jQuery.ui||(function(d){var j=d.fn.remove,e=d.browser.mozilla&&(parseFloat(d.browser.version)<1.9);d.ui={version:"1.7.2",plugin:{add:function(l,m,o){var n=d.ui[l].prototype;for(var k in o){n.plugins[k]=n.plugins[k]||[];n.plugins[k].push([m,o[k]])}},call:function(k,m,l){var o=k.plugins[m];if(!o||!k.element[0].parentNode){return}for(var n=0;n<o.length;n++){if(k.options[o[n][0]]){o[n][1].apply(k.element,l)}}}},contains:function(l,k){return document.compareDocumentPosition?l.compareDocumentPosition(k)&16:l!==k&&l.contains(k)},hasScroll:function(n,l){if(d(n).css("overflow")=="hidden"){return false}var k=(l&&l=="left")?"scrollLeft":"scrollTop",m=false;if(n[k]>0){return true}n[k]=1;m=(n[k]>0);n[k]=0;return m},isOverAxis:function(l,k,m){return(l>k)&&(l<(k+m))},isOver:function(p,l,o,n,k,m){return d.ui.isOverAxis(p,o,k)&&d.ui.isOverAxis(l,n,m)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(e){var g=d.attr,f=d.fn.removeAttr,i="http://www.w3.org/2005/07/aaa",a=/^aria-/,b=/^wairole:/;d.attr=function(l,k,m){var n=m!==undefined;return(k=="role"?(n?g.call(this,l,k,"wairole:"+m):(g.apply(this,arguments)||"").replace(b,"")):(a.test(k)?(n?l.setAttributeNS(i,k.replace(a,"aaa:"),m):g.call(this,l,k.replace(a,"aaa:"))):g.apply(this,arguments)))};d.fn.removeAttr=function(k){return(a.test(k)?this.each(function(){this.removeAttributeNS(i,k.replace(a,""))}):f.call(this,k))}}d.fn.extend({remove:function(){d("*",this).add(this).each(function(){d(this).triggerHandler("remove")});return j.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var k;if((d.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){k=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(d.curCSS(this,"position",1))&&(/(auto|scroll)/).test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0)}else{k=this.parents().filter(function(){return(/(auto|scroll)/).test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!k.length?d(document):k}});d.extend(d.expr[":"],{data:function(m,l,k){return !!d.data(m,k[3])},focusable:function(l){var m=l.nodeName.toLowerCase(),k=d.attr(l,"tabindex");return(/input|select|textarea|button|object/.test(m)?!l.disabled:"a"==m||"area"==m?l.href||!isNaN(k):!isNaN(k))&&!d(l)["area"==m?"parents":"closest"](":hidden").length},tabbable:function(l){var k=d.attr(l,"tabindex");return(isNaN(k)||k>=0)&&d(l).is(":focusable")}});function h(n,o,p,m){function l(r){var q=d[n][o][r]||[];return(typeof q=="string"?q.split(/,?\s+/):q)}var k=l("getter");if(m.length==1&&typeof m[0]=="string"){k=k.concat(l("getterSetter"))}return(d.inArray(p,k)!=-1)}d.widget=function(l,k){var m=l.split(".")[0];l=l.split(".")[1];d.fn[l]=function(q){var o=(typeof q=="string"),p=Array.prototype.slice.call(arguments,1);if(o&&q.substring(0,1)=="_"){return this}if(o&&h(m,l,q,p)){var n=d.data(this[0],l);return(n?n[q].apply(n,p):undefined)}return this.each(function(){var r=d.data(this,l);(!r&&!o&&d.data(this,l,new d[m][l](this,q))._init());(r&&o&&d.isFunction(r[q])&&r[q].apply(r,p))})};d[m]=d[m]||{};d[m][l]=function(p,o){var n=this;this.namespace=m;this.widgetName=l;this.widgetEventPrefix=d[m][l].eventPrefix||l;this.widgetBaseClass=m+"-"+l;this.options=d.extend({},d.widget.defaults,d[m][l].defaults,d.metadata&&d.metadata.get(p)[l],o);this.element=d(p).bind("setData."+l,function(r,q,u){if(r.target==p){return n._setData(q,u)}}).bind("getData."+l,function(r,q){if(r.target==p){return n._getData(q)}}).bind("remove",function(){return n.destroy()})};d[m][l].prototype=d.extend({},d.widget.prototype,k);d[m][l].getterSetter="option"};d.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(m,n){var l=m,k=this;if(typeof m=="string"){if(n===undefined){return this._getData(m)}l={};l[m]=n}d.each(l,function(o,p){k._setData(o,p)})},_getData:function(k){return this.options[k]},_setData:function(k,l){this.options[k]=l;if(k=="disabled"){this.element[l?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",l)}},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(m,n,o){var q=this.options[m],k=(m==this.widgetEventPrefix?m:this.widgetEventPrefix+m);n=d.Event(n);n.type=k;if(n.originalEvent){for(var l=d.event.props.length,p;l;){p=d.event.props[--l];n[p]=n.originalEvent[p]}}this.element.trigger(n,o);return !(d.isFunction(q)&&q.call(this.element[0],n,o)===false||n.isDefaultPrevented())}};d.widget.defaults={disabled:false};d.ui.mouse={_mouseInit:function(){var k=this;this.element.bind("mousedown."+this.widgetName,function(l){return k._mouseDown(l)}).bind("click."+this.widgetName,function(l){if(k._preventClickEvent){k._preventClickEvent=false;l.stopImmediatePropagation();return false}});if(d.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(d.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},_mouseDown:function(m){m.originalEvent=m.originalEvent||{};if(m.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(m));this._mouseDownEvent=m;var l=this,n=(m.which==1),k=(typeof this.options.cancel=="string"?d(m.target).parents().add(m.target).filter(this.options.cancel).length:false);if(!n||k||!this._mouseCapture(m)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){l.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(m)&&this._mouseDelayMet(m)){this._mouseStarted=(this._mouseStart(m)!==false);if(!this._mouseStarted){m.preventDefault();return true}}this._mouseMoveDelegate=function(o){return l._mouseMove(o)};this._mouseUpDelegate=function(o){return l._mouseUp(o)};d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(d.browser.safari||m.preventDefault());m.originalEvent.mouseHandled=true;return true},_mouseMove:function(k){if(d.browser.msie&&!k.button){return this._mouseUp(k)}if(this._mouseStarted){this._mouseDrag(k);return k.preventDefault()}if(this._mouseDistanceMet(k)&&this._mouseDelayMet(k)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,k)!==false);(this._mouseStarted?this._mouseDrag(k):this._mouseUp(k))}return !this._mouseStarted},_mouseUp:function(k){d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(k.target==this._mouseDownEvent.target);this._mouseStop(k)}return false},_mouseDistanceMet:function(k){return(Math.max(Math.abs(this._mouseDownEvent.pageX-k.pageX),Math.abs(this._mouseDownEvent.pageY-k.pageY))>=this.options.distance)},_mouseDelayMet:function(k){return this.mouseDelayMet},_mouseStart:function(k){},_mouseDrag:function(k){},_mouseStop:function(k){},_mouseCapture:function(k){return true}};d.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);(function(a){a.widget("ui.draggable",a.extend({},a.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var d=this.options;if(this.helper||d.disabled||a(b.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(b);if(!this.handle){return false}return true},_mouseStart:function(b){var d=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;if(d.cursorAt){this._adjustOffsetFromHelper(d.cursorAt)}if(d.containment){this._setContainment()}this._trigger("start",b);this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,b)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,e){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();this._trigger("drag",b,d);this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,b)}return false},_mouseStop:function(d){var e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){e=a.ui.ddmanager.drop(this,d)}if(this.dropped){e=this.dropped;this.dropped=false}if((this.options.revert=="invalid"&&!e)||(this.options.revert=="valid"&&e)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){var b=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",d);b._clear()})}else{this._trigger("stop",d);this._clear()}return false},_getHandle:function(b){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==b.target){d=true}});return d},_createHelper:function(d){var e=this.options;var b=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone():this.element);if(!b.parents("body").length){b.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(b[0]!=this.element[0]&&!(/(fixed|absolute)/).test(b.css("position"))){b.css("position","absolute")}return b},_adjustOffsetFromHelper:function(b){if(b.left!=undefined){this.offset.click.left=b.left+this.margins.left}if(b.right!=undefined){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if(b.top!=undefined){this.offset.click.top=b.top+this.margins.top}if(b.bottom!=undefined){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!=Array){var d=a(f.containment)[0];if(!d){return}var e=a(f.containment).offset();var b=(a(d).css("overflow")!="hidden");this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}else{if(f.containment.constructor==Array){this.containment=f.containment}}},_convertPositionTo:function(g,i){if(!i){i=this.position}var e=g=="absolute"?1:-1;var f=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(b[0].tagName);return{top:(i.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:b.scrollTop()))*e)),left:(i.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:b.scrollLeft())*e))}},_generatePosition:function(f){var i=this.options,b=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(b[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var e=f.pageX;var d=f.pageY;if(this.originalPosition){if(this.containment){if(f.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<this.containment[1]){d=this.containment[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>this.containment[3]){d=this.containment[3]+this.offset.click.top}}if(i.grid){var h=this.originalPageY+Math.round((d-this.originalPageY)/i.grid[1])*i.grid[1];d=this.containment?(!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:(!(h-this.offset.click.top<this.containment[1])?h-i.grid[1]:h+i.grid[1])):h;var g=this.originalPageX+Math.round((e-this.originalPageX)/i.grid[0])*i.grid[0];e=this.containment?(!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:(!(g-this.offset.click.left<this.containment[0])?g-i.grid[0]:g+i.grid[0])):g}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:b.scrollTop())))),left:(e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:b.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,d,e){e=e||this._uiHash();a.ui.plugin.call(this,b,[d,e]);if(b=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.widget.prototype._trigger.call(this,b,d,e)},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));a.extend(a.ui.draggable,{version:"1.7.2",eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("draggable"),g=e.options,b=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h._refreshItems();h._trigger("activate",d,b)}})},stop:function(d,f){var e=a(this).data("draggable"),b=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,b)}})},drag:function(d,g){var f=a(this).data("draggable"),b=this;var e=function(j){var p=this.offset.click.top,n=this.offset.click.left;var h=this.positionAbs.top,l=this.positionAbs.left;var k=j.height,m=j.width;var q=j.top,i=j.left;return a.ui.isOver(h+p,l+n,q,i,k,m)};a.each(f.sortables,function(h){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(b).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}f._trigger("fromSortable",d);f.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var b=a("body"),f=a(this).data("draggable").options;if(b.css("cursor")){f._cursor=b.css("cursor")}b.css("cursor",f.cursor)},stop:function(b,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(b,d){var e=a(this).data("draggable").options;a(e.iframeFix===true?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(b,d){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var b=a(e.helper),f=a(this).data("draggable").options;if(b.css("opacity")){f._opacity=b.css("opacity")}b.css("opacity",f.opacity)},stop:function(b,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){b.overflowOffset=b.scrollParent.offset()}},drag:function(e,f){var d=a(this).data("draggable"),g=d.options,b=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=b=d.scrollParent[0].scrollTop+g.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=b=d.scrollParent[0].scrollTop-g.scrollSpeed}}}if(!g.axis||g.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=b=d.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=b=d.scrollParent[0].scrollLeft-g.scrollSpeed}}}}else{if(!g.axis||g.axis!="x"){if(e.pageY-a(document).scrollTop()<g.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<g.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}}if(!g.axis||g.axis!="y"){if(e.pageX-a(document).scrollLeft()<g.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}}if(b!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var b=a(this).data("draggable"),f=b.options;b.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=b.element[0]){b.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})}})},drag:function(w,q){var h=a(this).data("draggable"),u=h.options;var A=u.snapTolerance;var z=q.offset.left,y=z+h.helperProportions.width,g=q.offset.top,f=g+h.helperProportions.height;for(var x=h.snapElements.length-1;x>=0;x--){var v=h.snapElements[x].left,p=v+h.snapElements[x].width,n=h.snapElements[x].top,C=n+h.snapElements[x].height;if(!((v-A<z&&z<p+A&&n-A<g&&g<C+A)||(v-A<z&&z<p+A&&n-A<f&&f<C+A)||(v-A<y&&y<p+A&&n-A<g&&g<C+A)||(v-A<y&&y<p+A&&n-A<f&&f<C+A))){if(h.snapElements[x].snapping){(h.options.snap.release&&h.options.snap.release.call(h.element,w,a.extend(h._uiHash(),{snapItem:h.snapElements[x].item})))}h.snapElements[x].snapping=false;continue}if(u.snapMode!="inner"){var e=Math.abs(n-f)<=A;var B=Math.abs(C-g)<=A;var k=Math.abs(v-y)<=A;var m=Math.abs(p-z)<=A;if(e){q.position.top=h._convertPositionTo("relative",{top:n-h.helperProportions.height,left:0}).top-h.margins.top}if(B){q.position.top=h._convertPositionTo("relative",{top:C,left:0}).top-h.margins.top}if(k){q.position.left=h._convertPositionTo("relative",{top:0,left:v-h.helperProportions.width}).left-h.margins.left}if(m){q.position.left=h._convertPositionTo("relative",{top:0,left:p}).left-h.margins.left}}var j=(e||B||k||m);if(u.snapMode!="outer"){var e=Math.abs(n-g)<=A;var B=Math.abs(C-f)<=A;var k=Math.abs(v-z)<=A;var m=Math.abs(p-y)<=A;if(e){q.position.top=h._convertPositionTo("relative",{top:n,left:0}).top-h.margins.top}if(B){q.position.top=h._convertPositionTo("relative",{top:C-h.helperProportions.height,left:0}).top-h.margins.top}if(k){q.position.left=h._convertPositionTo("relative",{top:0,left:v}).left-h.margins.left}if(m){q.position.left=h._convertPositionTo("relative",{top:0,left:p-h.helperProportions.width}).left-h.margins.left}}if(!h.snapElements[x].snapping&&(e||B||k||m||j)){(h.options.snap.snap&&h.options.snap.snap.call(h.element,w,a.extend(h._uiHash(),{snapItem:h.snapElements[x].item})))}h.snapElements[x].snapping=(e||B||k||m||j)}}});a.ui.plugin.add("draggable","stack",{start:function(b,d){var f=a(this).data("draggable").options;var e=a.makeArray(a(f.stack.group)).sort(function(h,g){return(parseInt(a(h).css("zIndex"),10)||f.stack.min)-(parseInt(a(g).css("zIndex"),10)||f.stack.min)});a(e).each(function(g){this.style.zIndex=f.stack.min+g});this[0].style.zIndex=f.stack.min+e.length}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var b=a(e.helper),f=a(this).data("draggable").options;if(b.css("zIndex")){f._zIndex=b.css("zIndex")}b.css("zIndex",f.zIndex)},stop:function(b,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(a){a.widget("ui.droppable",{_init:function(){var d=this.options,b=d.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&a.isFunction(this.options.accept)?this.options.accept:function(e){return e.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[this.options.scope]=a.ui.ddmanager.droppables[this.options.scope]||[];a.ui.ddmanager.droppables[this.options.scope].push(this);(this.options.addClasses&&this.element.addClass("ui-droppable"))},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var d=0;d<b.length;d++){if(b[d]==this){b.splice(d,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(b,d){if(b=="accept"){this.options.accept=d&&a.isFunction(d)?d:function(e){return e.is(d)}}else{a.widget.prototype._setData.apply(this,arguments)}},_activate:function(d){var b=a.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(b&&this._trigger("activate",d,this.ui(b)))},_deactivate:function(d){var b=a.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(b&&this._trigger("deactivate",d,this.ui(b)))},_over:function(d){var b=a.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return}if(this.options.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",d,this.ui(b))}},_out:function(d){var b=a.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return}if(this.options.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",d,this.ui(b))}},_drop:function(d,e){var b=e||a.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return false}var f=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=a.data(this,"droppable");if(g.options.greedy&&a.ui.intersect(b,a.extend(g,{offset:g.element.offset()}),g.options.tolerance)){f=true;return false}});if(f){return false}if(this.options.accept.call(this.element[0],(b.currentItem||b.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",d,this.ui(b));return this.element}return false},ui:function(b){return{draggable:(b.currentItem||b.element),helper:b.helper,position:b.position,absolutePosition:b.positionAbs,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});a.ui.intersect=function(u,k,p){if(!k.offset){return false}var f=(u.positionAbs||u.position.absolute).left,e=f+u.helperProportions.width,o=(u.positionAbs||u.position.absolute).top,n=o+u.helperProportions.height;var h=k.offset.left,d=h+k.proportions.width,q=k.offset.top,m=q+k.proportions.height;switch(p){case"fit":return(h<f&&e<d&&q<o&&n<m);break;case"intersect":return(h<f+(u.helperProportions.width/2)&&e-(u.helperProportions.width/2)<d&&q<o+(u.helperProportions.height/2)&&n-(u.helperProportions.height/2)<m);break;case"pointer":var i=((u.positionAbs||u.position.absolute).left+(u.clickOffset||u.offset.click).left),j=((u.positionAbs||u.position.absolute).top+(u.clickOffset||u.offset.click).top),g=a.ui.isOver(j,i,q,h,k.proportions.height,k.proportions.width);return g;break;case"touch":return((o>=q&&o<=m)||(n>=q&&n<=m)||(o<q&&n>m))&&((f>=h&&f<=d)||(e>=h&&e<=d)||(f<h&&e>d));break;default:return false;break}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(f,h){var b=a.ui.ddmanager.droppables[f.options.scope];var g=h?h.type:null;var k=(f.currentItem||f.element).find(":data(droppable)").andSelf();droppablesLoop:for(var e=0;e<b.length;e++){if(b[e].options.disabled||(f&&!b[e].options.accept.call(b[e].element[0],(f.currentItem||f.element)))){continue}for(var d=0;d<k.length;d++){if(k[d]==b[e].element[0]){b[e].proportions.height=0;continue droppablesLoop}}b[e].visible=b[e].element.css("display")!="none";if(!b[e].visible){continue}b[e].offset=b[e].element.offset();b[e].proportions={width:b[e].element[0].offsetWidth,height:b[e].element[0].offsetHeight};if(g=="mousedown"){b[e]._activate.call(b[e],h)}}},drop:function(b,d){var e=false;a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)){e=this._drop.call(this,d)}if(!this.options.disabled&&this.visible&&this.options.accept.call(this.element[0],(b.currentItem||b.element))){this.isout=1;this.isover=0;this._deactivate.call(this,d)}});return e},drag:function(b,d){if(b.options.refreshPositions){a.ui.ddmanager.prepareOffsets(b,d)}a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var f=a.ui.intersect(b,this,this.options.tolerance);var h=!f&&this.isover==1?"isout":(f&&this.isover==0?"isover":null);if(!h){return}var g;if(this.options.greedy){var e=this.element.parents(":data(droppable):eq(0)");if(e.length){g=a.data(e[0],"droppable");g.greedyChild=(h=="isover"?1:0)}}if(g&&h=="isover"){g.isover=0;g.isout=1;g._out.call(g,d)}this[h]=1;this[h=="isout"?"isover":"isout"]=0;this[h=="isover"?"_over":"_out"].call(this,d);if(g&&h=="isout"){g.isout=0;g.isover=1;g._over.call(g,d)}})}}})(jQuery);(function(a){a.widget("ui.accordion",{_init:function(){var e=this.options,b=this;this.running=0;if(e.collapsible==a.ui.accordion.defaults.collapsible&&e.alwaysOpen!=a.ui.accordion.defaults.alwaysOpen){e.collapsible=!e.alwaysOpen}if(e.navigation){var d=this.element.find("a").filter(e.navigationFilter);if(d.length){if(d.filter(e.header).length){this.active=d}else{this.active=d.parent().parent().prev();d.addClass("ui-accordion-content-active")}}}this.element.addClass("ui-accordion ui-widget ui-helper-reset");if(this.element[0].nodeName=="UL"){this.element.children("li").addClass("ui-accordion-li-fix")}this.headers=this.element.find(e.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){a(this).removeClass("ui-state-focus")});this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");this.active=this._findActive(this.active||e.active).toggleClass("ui-state-default").toggleClass("ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");this.active.next().addClass("ui-accordion-content-active");a("<span/>").addClass("ui-icon "+e.icons.header).prependTo(this.headers);this.active.find(".ui-icon").toggleClass(e.icons.header).toggleClass(e.icons.headerSelected);if(a.browser.msie){this.element.find("a").css("zoom","1")}this.resize();this.element.attr("role","tablist");this.headers.attr("role","tab").bind("keydown",function(f){return b._keydown(f)}).next().attr("role","tabpanel");this.headers.not(this.active||"").attr("aria-expanded","false").attr("tabIndex","-1").next().hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex","0")}else{this.active.attr("aria-expanded","true").attr("tabIndex","0")}if(!a.browser.safari){this.headers.find("a").attr("tabIndex","-1")}if(e.event){this.headers.bind((e.event)+".accordion",function(f){return b._clickHandler.call(b,f,this)})}},destroy:function(){var d=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role").unbind(".accordion").removeData("accordion");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabindex");this.headers.find("a").removeAttr("tabindex");this.headers.children(".ui-icon").remove();var b=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active");if(d.autoHeight||d.fillHeight){b.css("height","")}},_setData:function(b,d){if(b=="alwaysOpen"){b="collapsible";d=!d}a.widget.prototype._setData.apply(this,arguments)},_keydown:function(f){var h=this.options,g=a.ui.keyCode;if(h.disabled||f.altKey||f.ctrlKey){return}var e=this.headers.length;var b=this.headers.index(f.target);var d=false;switch(f.keyCode){case g.RIGHT:case g.DOWN:d=this.headers[(b+1)%e];break;case g.LEFT:case g.UP:d=this.headers[(b-1+e)%e];break;case g.SPACE:case g.ENTER:return this._clickHandler({target:f.target},f.target)}if(d){a(f.target).attr("tabIndex","-1");a(d).attr("tabIndex","0");d.focus();return false}return true},resize:function(){var f=this.options,e;if(f.fillSpace){if(a.browser.msie){var b=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}e=this.element.parent().height();if(a.browser.msie){this.element.parent().css("overflow",b)}this.headers.each(function(){e-=a(this).outerHeight()});var d=0;this.headers.next().each(function(){d=Math.max(d,a(this).innerHeight()-a(this).height())}).height(Math.max(0,e-d)).css("overflow","auto")}else{if(f.autoHeight){e=0;this.headers.next().each(function(){e=Math.max(e,a(this).outerHeight())}).height(e)}}},activate:function(b){var d=this._findActive(b)[0];this._clickHandler({target:d},d)},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===false?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,g){var e=this.options;if(e.disabled){return false}if(!b.target&&e.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(e.icons.headerSelected).addClass(e.icons.header);this.active.next().addClass("ui-accordion-content-active");var i=this.active.next(),f={options:e,newHeader:a([]),oldHeader:e.active,newContent:a([]),oldContent:i},d=(this.active=a([]));this._toggle(d,i,f);return false}var h=a(b.currentTarget||g);var j=h[0]==this.active[0];if(this.running||(!e.collapsible&&j)){return false}this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(e.icons.headerSelected).addClass(e.icons.header);this.active.next().addClass("ui-accordion-content-active");if(!j){h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").find(".ui-icon").removeClass(e.icons.header).addClass(e.icons.headerSelected);h.next().addClass("ui-accordion-content-active")}var d=h.next(),i=this.active.next(),f={options:e,newHeader:j&&e.collapsible?a([]):h,oldHeader:this.active,newContent:j&&e.collapsible?a([]):d.find("> *"),oldContent:i.find("> *")},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=j?a([]):h;this._toggle(d,i,f,j,k);return false},_toggle:function(b,j,h,k,l){var e=this.options,n=this;this.toShow=b;this.toHide=j;this.data=h;var d=function(){if(!n){return}return n._completed.apply(n,arguments)};this._trigger("changestart",null,this.data);this.running=j.size()===0?b.size():j.size();if(e.animated){var g={};if(e.collapsible&&k){g={toShow:a([]),toHide:j,complete:d,down:l,autoHeight:e.autoHeight||e.fillSpace}}else{g={toShow:b,toHide:j,complete:d,down:l,autoHeight:e.autoHeight||e.fillSpace}}if(!e.proxied){e.proxied=e.animated}if(!e.proxiedDuration){e.proxiedDuration=e.duration}e.animated=a.isFunction(e.proxied)?e.proxied(g):e.proxied;e.duration=a.isFunction(e.proxiedDuration)?e.proxiedDuration(g):e.proxiedDuration;var m=a.ui.accordion.animations,f=e.duration,i=e.animated;if(!m[i]){m[i]=function(o){this.slide(o,{easing:i,duration:f||700})}}m[i](g)}else{if(e.collapsible&&k){b.toggle()}else{j.hide();b.show()}d(true)}j.prev().attr("aria-expanded","false").attr("tabIndex","-1").blur();b.prev().attr("aria-expanded","true").attr("tabIndex","0").focus()},_completed:function(b){var d=this.options;this.running=b?0:--this.running;if(this.running){return}if(d.clearStyle){this.toShow.add(this.toHide).css({height:"",overflow:""})}this._trigger("change",null,this.data)}});a.extend(a.ui.accordion,{version:"1.7.2",defaults:{active:null,alwaysOpen:true,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()==location.href.toLowerCase()}},animations:{slide:function(k,i){k=a.extend({easing:"swing",duration:300},k,i);if(!k.toHide.size()){k.toShow.animate({height:"show"},k);return}if(!k.toShow.size()){k.toHide.animate({height:"hide"},k);return}var d=k.toShow.css("overflow"),h,e={},g={},f=["height","paddingTop","paddingBottom"],b;var j=k.toShow;b=j[0].style.width;j.width(parseInt(j.parent().width(),10)-parseInt(j.css("paddingLeft"),10)-parseInt(j.css("paddingRight"),10)-(parseInt(j.css("borderLeftWidth"),10)||0)-(parseInt(j.css("borderRightWidth"),10)||0));a.each(f,function(l,n){g[n]="hide";var m=(""+a.css(k.toShow[0],n)).match(/^([\d+-.]+)(.*)$/);e[n]={value:m[1],unit:m[2]||"px"}});k.toShow.css({height:0,overflow:"hidden"}).show();k.toHide.filter(":hidden").each(k.complete).end().filter(":visible").animate(g,{step:function(l,m){if(m.prop=="height"){h=(m.now-m.start)/(m.end-m.start)}k.toShow[0].style[m.prop]=(h*e[m.prop].value)+e[m.prop].unit},duration:k.duration,easing:k.easing,complete:function(){if(!k.autoHeight){k.toShow.css("height","")}k.toShow.css("width",b);k.toShow.css({overflow:d});k.complete()}})},bounceslide:function(b){this.slide(b,{easing:b.down?"easeOutBounce":"swing",duration:b.down?1000:200})},easeslide:function(b){this.slide(b,{easing:"easeinout",duration:700})}}})})(jQuery);(function(d){var b={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"},a="ui-dialog ui-widget ui-widget-content ui-corner-all ";d.widget("ui.dialog",{_init:function(){this.originalTitle=this.element.attr("title");var m=this,n=this.options,k=n.title||this.originalTitle||"&nbsp;",f=d.ui.dialog.getTitleId(this.element),l=(this.uiDialog=d("<div/>")).appendTo(document.body).hide().addClass(a+n.dialogClass).css({position:"absolute",overflow:"hidden",zIndex:n.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(o){(n.closeOnEscape&&o.keyCode&&o.keyCode==d.ui.keyCode.ESCAPE&&m.close(o))}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(o){m.moveToTop(false,o)}),h=this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(l),g=(this.uiDialogTitlebar=d("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(l),j=d('<a href="#"/>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).mousedown(function(o){o.stopPropagation()}).click(function(o){m.close(o);return false}).appendTo(g),i=(this.uiDialogTitlebarCloseText=d("<span/>")).addClass("ui-icon ui-icon-closethick").text(n.closeText).appendTo(j),e=d("<span/>").addClass("ui-dialog-title").attr("id",f).html(k).prependTo(g);g.find("*").add(g).disableSelection();(n.draggable&&d.fn.draggable&&this._makeDraggable());(n.resizable&&d.fn.resizable&&this._makeResizable());this._createButtons(n.buttons);this._isOpen=false;(n.bgiframe&&d.fn.bgiframe&&l.bgiframe());(n.autoOpen&&this.open())},destroy:function(){(this.overlay&&this.overlay.destroy());this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();(this.originalTitle&&this.element.attr("title",this.originalTitle))},close:function(g){var e=this;if(false===e._trigger("beforeclose",g)){return}(e.overlay&&e.overlay.destroy());e.uiDialog.unbind("keypress.ui-dialog");(e.options.hide?e.uiDialog.hide(e.options.hide,function(){e._trigger("close",g)}):e.uiDialog.hide()&&e._trigger("close",g));d.ui.dialog.overlay.resize();e._isOpen=false;if(e.options.modal){var f=0;d(".ui-dialog").each(function(){if(this!=e.uiDialog[0]){f=Math.max(f,d(this).css("z-index"))}});d.ui.dialog.maxZ=f}},isOpen:function(){return this._isOpen},moveToTop:function(g,f){if((this.options.modal&&!g)||(!this.options.stack&&!this.options.modal)){return this._trigger("focus",f)}if(this.options.zIndex>d.ui.dialog.maxZ){d.ui.dialog.maxZ=this.options.zIndex}(this.overlay&&this.overlay.$el.css("z-index",d.ui.dialog.overlay.maxZ=++d.ui.dialog.maxZ));var e={scrollTop:this.element.attr("scrollTop"),scrollLeft:this.element.attr("scrollLeft")};this.uiDialog.css("z-index",++d.ui.dialog.maxZ);this.element.attr(e);this._trigger("focus",f)},open:function(){if(this._isOpen){return}var f=this.options,e=this.uiDialog;this.overlay=f.modal?new d.ui.dialog.overlay(this):null;(e.next().length&&e.appendTo("body"));this._size();this._position(f.position);e.show(f.show);this.moveToTop(true);(f.modal&&e.bind("keypress.ui-dialog",function(i){if(i.keyCode!=d.ui.keyCode.TAB){return}var h=d(":tabbable",this),j=h.filter(":first")[0],g=h.filter(":last")[0];if(i.target==g&&!i.shiftKey){setTimeout(function(){j.focus()},1)}else{if(i.target==j&&i.shiftKey){setTimeout(function(){g.focus()},1)}}}));d([]).add(e.find(".ui-dialog-content :tabbable:first")).add(e.find(".ui-dialog-buttonpane :tabbable:first")).add(e).filter(":first").focus();this._trigger("open");this._isOpen=true},_createButtons:function(h){var g=this,e=false,f=d("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiDialog.find(".ui-dialog-buttonpane").remove();(typeof h=="object"&&h!==null&&d.each(h,function(){return !(e=true)}));if(e){d.each(h,function(i,j){d('<button type="button"></button>').addClass("ui-state-default ui-corner-all").text(i).click(function(){j.apply(g.element[0],arguments)}).hover(function(){d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")}).focus(function(){d(this).addClass("ui-state-focus")}).blur(function(){d(this).removeClass("ui-state-focus")}).appendTo(f)});f.appendTo(this.uiDialog)}},_makeDraggable:function(){var e=this,g=this.options,f;this.uiDialog.draggable({cancel:".ui-dialog-content",handle:".ui-dialog-titlebar",containment:"document",start:function(){f=g.height;d(this).height(d(this).height()).addClass("ui-dialog-dragging");(g.dragStart&&g.dragStart.apply(e.element[0],arguments))},drag:function(){(g.drag&&g.drag.apply(e.element[0],arguments))},stop:function(){d(this).removeClass("ui-dialog-dragging").height(f);(g.dragStop&&g.dragStop.apply(e.element[0],arguments));d.ui.dialog.overlay.resize()}})},_makeResizable:function(h){h=(h===undefined?this.options.resizable:h);var e=this,g=this.options,f=typeof h=="string"?h:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:g.minHeight,start:function(){d(this).addClass("ui-dialog-resizing");(g.resizeStart&&g.resizeStart.apply(e.element[0],arguments))},resize:function(){(g.resize&&g.resize.apply(e.element[0],arguments))},handles:f,stop:function(){d(this).removeClass("ui-dialog-resizing");g.height=d(this).height();g.width=d(this).width();(g.resizeStop&&g.resizeStop.apply(e.element[0],arguments));d.ui.dialog.overlay.resize()}}).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_position:function(j){var f=d(window),g=d(document),h=g.scrollTop(),e=g.scrollLeft(),i=h;if(d.inArray(j,["center","top","right","bottom","left"])>=0){j=[j=="right"||j=="left"?j:"center",j=="top"||j=="bottom"?j:"middle"]}if(j.constructor!=Array){j=["center","middle"]}if(j[0].constructor==Number){e+=j[0]}else{switch(j[0]){case"left":e+=0;break;case"right":e+=f.width()-this.uiDialog.outerWidth();break;default:case"center":e+=(f.width()-this.uiDialog.outerWidth())/2}}if(j[1].constructor==Number){h+=j[1]}else{switch(j[1]){case"top":h+=0;break;case"bottom":h+=f.height()-this.uiDialog.outerHeight();break;default:case"middle":h+=(f.height()-this.uiDialog.outerHeight())/2}}h=Math.max(h,i);this.uiDialog.css({top:h,left:e})},_setData:function(f,g){(b[f]&&this.uiDialog.data(b[f],g));switch(f){case"buttons":this._createButtons(g);break;case"closeText":this.uiDialogTitlebarCloseText.text(g);break;case"dialogClass":this.uiDialog.removeClass(this.options.dialogClass).addClass(a+g);break;case"draggable":(g?this._makeDraggable():this.uiDialog.draggable("destroy"));break;case"height":this.uiDialog.height(g);break;case"position":this._position(g);break;case"resizable":var e=this.uiDialog,h=this.uiDialog.is(":data(resizable)");(h&&!g&&e.resizable("destroy"));(h&&typeof g=="string"&&e.resizable("option","handles",g));(h||this._makeResizable(g));break;case"title":d(".ui-dialog-title",this.uiDialogTitlebar).html(g||"&nbsp;");break;case"width":this.uiDialog.width(g);break}d.widget.prototype._setData.apply(this,arguments)},_size:function(){var f=this.options;this.element.css({height:0,minHeight:0,width:"auto"});var e=this.uiDialog.css({height:"auto",width:f.width}).height();this.element.css({minHeight:Math.max(f.minHeight-e,0),height:f.height=="auto"?"auto":Math.max(f.height-e,0)})}});d.extend(d.ui.dialog,{version:"1.7.2",defaults:{autoOpen:true,bgiframe:false,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:"center",resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},getter:"isOpen",uuid:0,maxZ:0,getTitleId:function(e){return"ui-dialog-title-"+(e.attr("id")||++this.uuid)},overlay:function(e){this.$el=d.ui.dialog.overlay.create(e)}});d.extend(d.ui.dialog.overlay,{instances:[],maxZ:0,events:d.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(f){if(this.instances.length===0){setTimeout(function(){if(d.ui.dialog.overlay.instances.length){d(document).bind(d.ui.dialog.overlay.events,function(g){var h=d(g.target).parents(".ui-dialog").css("zIndex")||0;return(h>d.ui.dialog.overlay.maxZ)})}},1);d(document).bind("keydown.dialog-overlay",function(g){(f.options.closeOnEscape&&g.keyCode&&g.keyCode==d.ui.keyCode.ESCAPE&&f.close(g))});d(window).bind("resize.dialog-overlay",d.ui.dialog.overlay.resize)}var e=d("<div></div>").appendTo(document.body).addClass("ui-widget-overlay").css({width:this.width(),height:this.height()});(f.options.bgiframe&&d.fn.bgiframe&&e.bgiframe());this.instances.push(e);return e},destroy:function(e){this.instances.splice(d.inArray(this.instances,e),1);if(this.instances.length===0){d([document,window]).unbind(".dialog-overlay")}e.remove();var f=0;d.each(this.instances,function(){f=Math.max(f,this.css("z-index"))});this.maxZ=f},height:function(){if(d.browser.msie&&d.browser.version<7){var f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);var e=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(f<e){return d(window).height()+"px"}else{return f+"px"}}else{return d(document).height()+"px"}},width:function(){if(d.browser.msie&&d.browser.version<7){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);var f=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(e<f){return d(window).width()+"px"}else{return e+"px"}}else{return d(document).width()+"px"}},resize:function(){var e=d([]);d.each(d.ui.dialog.overlay.instances,function(){e=e.add(this)});e.css({width:0,height:0}).css({width:d.ui.dialog.overlay.width(),height:d.ui.dialog.overlay.height()})}});d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(a){a.widget("ui.tabs",{_init:function(){if(this.options.deselectable!==undefined){this.options.collapsible=this.options.deselectable}this._tabify(true)},_setData:function(b,d){if(b=="selected"){if(this.options.collapsible&&d==this.options.selected){return}this.select(d)}else{this.options[b]=d;if(b=="deselectable"){this.options.collapsible=d}this._tabify()}},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+a.data(b)},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+a.data(this.list[0]));return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(d,b){return{tab:d,panel:b,index:this.anchors.index(d)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(p){this.list=this.element.children("ul:first");this.lis=a("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return a("a",this)[0]});this.panels=a([]);var q=this,e=this.options;var d=/^#.+/;this.anchors.each(function(u,o){var r=a(o).attr("href");var v=r.split("#")[0],w;if(v&&(v===location.toString().split("#")[0]||(w=a("base")[0])&&v===w.href)){r=o.hash;o.href=r}if(d.test(r)){q.panels=q.panels.add(q._sanitizeSelector(r))}else{if(r!="#"){a.data(o,"href.tabs",r);a.data(o,"load.tabs",r.replace(/#.*$/,""));var y=q._tabId(o);o.href="#"+y;var x=a("#"+y);if(!x.length){x=a(e.panelTemplate).attr("id",y).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(q.panels[u-1]||q.list);x.data("destroy.tabs",true)}q.panels=q.panels.add(x)}else{e.disabled.push(u)}}});if(p){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(e.selected===undefined){if(location.hash){this.anchors.each(function(r,o){if(o.hash==location.hash){e.selected=r;return false}})}if(typeof e.selected!="number"&&e.cookie){e.selected=parseInt(q._cookie(),10)}if(typeof e.selected!="number"&&this.lis.filter(".ui-tabs-selected").length){e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}e.selected=e.selected||0}else{if(e.selected===null){e.selected=-1}}e.selected=((e.selected>=0&&this.anchors[e.selected])||e.selected<0)?e.selected:0;e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(r,o){return q.lis.index(r)}))).sort();if(a.inArray(e.selected,e.disabled)!=-1){e.disabled.splice(a.inArray(e.selected,e.disabled),1)}this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(e.selected>=0&&this.anchors.length){this.panels.eq(e.selected).removeClass("ui-tabs-hide");this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active");q.element.queue("tabs",function(){q._trigger("show",null,q._ui(q.anchors[e.selected],q.panels[e.selected]))});this.load(e.selected)}a(window).bind("unload",function(){q.lis.add(q.anchors).unbind(".tabs");q.lis=q.anchors=q.panels=null})}else{e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(e.cookie){this._cookie(e.selected,e.cookie)}for(var h=0,n;(n=this.lis[h]);h++){a(n)[a.inArray(h,e.disabled)!=-1&&!a(n).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}if(e.cache===false){this.anchors.removeData("cache.tabs")}this.lis.add(this.anchors).unbind(".tabs");if(e.event!="mouseover"){var g=function(o,i){if(i.is(":not(.ui-state-disabled)")){i.addClass("ui-state-"+o)}};var k=function(o,i){i.removeClass("ui-state-"+o)};this.lis.bind("mouseover.tabs",function(){g("hover",a(this))});this.lis.bind("mouseout.tabs",function(){k("hover",a(this))});this.anchors.bind("focus.tabs",function(){g("focus",a(this).closest("li"))});this.anchors.bind("blur.tabs",function(){k("focus",a(this).closest("li"))})}var b,j;if(e.fx){if(a.isArray(e.fx)){b=e.fx[0];j=e.fx[1]}else{b=j=e.fx}}function f(i,o){i.css({display:""});if(a.browser.msie&&o.opacity){i[0].style.removeAttribute("filter")}}var l=j?function(i,o){a(i).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");o.hide().removeClass("ui-tabs-hide").animate(j,j.duration||"normal",function(){f(o,j);q._trigger("show",null,q._ui(i,o[0]))})}:function(i,o){a(i).closest("li").removeClass("ui-state-default").addClass("ui-tabs-selected ui-state-active");o.removeClass("ui-tabs-hide");q._trigger("show",null,q._ui(i,o[0]))};var m=b?function(o,i){i.animate(b,b.duration||"normal",function(){q.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");i.addClass("ui-tabs-hide");f(i,b);q.element.dequeue("tabs")})}:function(o,i,r){q.lis.removeClass("ui-tabs-selected ui-state-active").addClass("ui-state-default");i.addClass("ui-tabs-hide");q.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",function(){var o=this,u=a(this).closest("li"),i=q.panels.filter(":not(.ui-tabs-hide)"),r=a(q._sanitizeSelector(this.hash));if((u.hasClass("ui-tabs-selected")&&!e.collapsible)||u.hasClass("ui-state-disabled")||u.hasClass("ui-state-processing")||q._trigger("select",null,q._ui(this,r[0]))===false){this.blur();return false}e.selected=q.anchors.index(this);q.abort();if(e.collapsible){if(u.hasClass("ui-tabs-selected")){e.selected=-1;if(e.cookie){q._cookie(e.selected,e.cookie)}q.element.queue("tabs",function(){m(o,i)}).dequeue("tabs");this.blur();return false}else{if(!i.length){if(e.cookie){q._cookie(e.selected,e.cookie)}q.element.queue("tabs",function(){l(o,r)});q.load(q.anchors.index(this));this.blur();return false}}}if(e.cookie){q._cookie(e.selected,e.cookie)}if(r.length){if(i.length){q.element.queue("tabs",function(){m(o,i)})}q.element.queue("tabs",function(){l(o,r)});q.load(q.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}if(a.browser.msie){this.blur()}});this.anchors.bind("click.tabs",function(){return false})},destroy:function(){var b=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var d=a.data(this,"href.tabs");if(d){this.href=d}var e=a(this).unbind(".tabs");a.each(["href","load","cache"],function(f,g){e.removeData(g+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){if(a.data(this,"destroy.tabs")){a(this).remove()}else{a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}});if(b.cookie){this._cookie(null,b.cookie)}},add:function(f,e,d){if(d===undefined){d=this.anchors.length}var b=this,h=this.options,j=a(h.tabTemplate.replace(/#\{href\}/g,f).replace(/#\{label\}/g,e)),i=!f.indexOf("#")?f.replace("#",""):this._tabId(a("a",j)[0]);j.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var g=a("#"+i);if(!g.length){g=a(h.panelTemplate).attr("id",i).data("destroy.tabs",true)}g.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(d>=this.lis.length){j.appendTo(this.list);g.appendTo(this.list[0].parentNode)}else{j.insertBefore(this.lis[d]);g.insertBefore(this.panels[d])}h.disabled=a.map(h.disabled,function(l,k){return l>=d?++l:l});this._tabify();if(this.anchors.length==1){j.addClass("ui-tabs-selected ui-state-active");g.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){b._trigger("show",null,b._ui(b.anchors[0],b.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[d],this.panels[d]))},remove:function(b){var e=this.options,f=this.lis.eq(b).remove(),d=this.panels.eq(b).remove();if(f.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(b+(b+1<this.anchors.length?1:-1))}e.disabled=a.map(a.grep(e.disabled,function(h,g){return h!=b}),function(h,g){return h>=b?--h:h});this._tabify();this._trigger("remove",null,this._ui(f.find("a")[0],d[0]))},enable:function(b){var d=this.options;if(a.inArray(b,d.disabled)==-1){return}this.lis.eq(b).removeClass("ui-state-disabled");d.disabled=a.grep(d.disabled,function(f,e){return f!=b});this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]))},disable:function(d){var b=this,e=this.options;if(d!=e.selected){this.lis.eq(d).addClass("ui-state-disabled");e.disabled.push(d);e.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[d],this.panels[d]))}},select:function(b){if(typeof b=="string"){b=this.anchors.index(this.anchors.filter("[href$="+b+"]"))}else{if(b===null){b=-1}}if(b==-1&&this.options.collapsible){b=this.options.selected}this.anchors.eq(b).trigger(this.options.event+".tabs")},load:function(f){var d=this,h=this.options,b=this.anchors.eq(f)[0],e=a.data(b,"load.tabs");this.abort();if(!e||this.element.queue("tabs").length!==0&&a.data(b,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(f).addClass("ui-state-processing");if(h.spinner){var g=a("span",b);g.data("label.tabs",g.html()).html(h.spinner)}this.xhr=a.ajax(a.extend({},h.ajaxOptions,{url:e,success:function(j,i){a(d._sanitizeSelector(b.hash)).html(j);d._cleanup();if(h.cache){a.data(b,"cache.tabs",true)}d._trigger("load",null,d._ui(d.anchors[f],d.panels[f]));try{h.ajaxOptions.success(j,i)}catch(k){}d.element.dequeue("tabs")}}))},abort:function(){this.element.queue([]);this.panels.stop(false,true);if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup()},url:function(d,b){this.anchors.eq(d).removeData("cache.tabs").data("load.tabs",b)},length:function(){return this.anchors.length}});a.extend(a.ui.tabs,{version:"1.7.2",getter:"length",defaults:{ajaxOptions:null,cache:false,cookie:null,collapsible:false,disabled:[],event:"click",fx:null,idPrefix:"ui-tabs-",panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'}});a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(e,g){var b=this,h=this.options;var d=b._rotate||(b._rotate=function(i){clearTimeout(b.rotation);b.rotation=setTimeout(function(){var j=h.selected;b.select(++j<b.anchors.length?j:0)},e);if(i){i.stopPropagation()}});var f=b._unrotate||(b._unrotate=!g?function(i){if(i.clientX){b.rotate(null)}}:function(i){t=h.selected;d()});if(e){this.element.bind("tabsshow",d);this.anchors.bind(h.event+".tabs",f);d()}else{clearTimeout(b.rotation);this.element.unbind("tabsshow",d);this.anchors.unbind(h.event+".tabs",f);delete this._rotate;delete this._unrotate}}})})(jQuery);(function(a){a.widget("ui.progressbar",{_init:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=a('<div class="ui-progressbar-value ui-widget-header ui-corner-left"></div>').appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow").removeData("progressbar").unbind(".progressbar");this.valueDiv.remove();a.widget.prototype.destroy.apply(this,arguments)},value:function(b){if(b===undefined){return this._value()}this._setData("value",b);return this},_setData:function(b,d){switch(b){case"value":this.options.value=d;this._refreshValue();this._trigger("change",null,{});break}a.widget.prototype._setData.apply(this,arguments)},_value:function(){var b=this.options.value;if(b<this._valueMin()){b=this._valueMin()}if(b>this._valueMax()){b=this._valueMax()}return b},_valueMin:function(){var b=0;return b},_valueMax:function(){var b=100;return b},_refreshValue:function(){var b=this.value();this.valueDiv[b==this._valueMax()?"addClass":"removeClass"]("ui-corner-right");this.valueDiv.width(b+"%");this.element.attr("aria-valuenow",b)}});a.extend(a.ui.progressbar,{version:"1.7.2",defaults:{value:0}})})(jQuery);jQuery.effects||(function(e){e.effects={version:"1.7.2",save:function(h,j){for(var g=0;g<j.length;g++){if(j[g]!==null){h.data("ec.storage."+j[g],h[0].style[j[g]])}}},restore:function(h,j){for(var g=0;g<j.length;g++){if(j[g]!==null){h.css(j[g],h.data("ec.storage."+j[g]))}}},setMode:function(g,h){if(h=="toggle"){h=g.is(":hidden")?"show":"hide"}return h},getBaseline:function(h,i){var j,g;switch(h[0]){case"top":j=0;break;case"middle":j=0.5;break;case"bottom":j=1;break;default:j=h[0]/i.height}switch(h[1]){case"left":g=0;break;case"center":g=0.5;break;case"right":g=1;break;default:g=h[1]/i.width}return{x:g,y:j}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper")){return g.parent()}var h={width:g.outerWidth(true),height:g.outerHeight(true),"float":g.css("float")};g.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');var k=g.parent();if(g.css("position")=="static"){k.css({position:"relative"});g.css({position:"relative"})}else{var j=g.css("top");if(isNaN(parseInt(j,10))){j="auto"}var i=g.css("left");if(isNaN(parseInt(i,10))){i="auto"}k.css({position:g.css("position"),top:j,left:i,zIndex:g.css("z-index")}).show();g.css({position:"relative",top:0,left:0})}k.css(h);return k},removeWrapper:function(g){if(g.parent().is(".ui-effects-wrapper")){return g.parent().replaceWith(g)}return g},setTransition:function(h,j,g,i){i=i||{};e.each(j,function(l,k){unit=h.cssUnit(k);if(unit[0]>0){i[k]=unit[0]*g+unit[1]}});return i},animateClass:function(i,j,l,k){var g=(typeof l=="function"?l:(k?k:null));var h=(typeof l=="string"?l:null);return this.each(function(){var r={};var p=e(this);var q=p.attr("style")||"";if(typeof q=="object"){q=q.cssText}if(i.toggle){p.hasClass(i.toggle)?i.remove=i.toggle:i.add=i.toggle}var m=e.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(i.add){p.addClass(i.add)}if(i.remove){p.removeClass(i.remove)}var o=e.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(i.add){p.removeClass(i.add)}if(i.remove){p.addClass(i.remove)}for(var u in o){if(typeof o[u]!="function"&&o[u]&&u.indexOf("Moz")==-1&&u.indexOf("length")==-1&&o[u]!=m[u]&&(u.match(/color/i)||(!u.match(/color/i)&&!isNaN(parseInt(o[u],10))))&&(m.position!="static"||(m.position=="static"&&!u.match(/left|top|bottom|right/)))){r[u]=o[u]}}p.animate(r,j,h,function(){if(typeof e(this).attr("style")=="object"){e(this).attr("style")["cssText"]="";e(this).attr("style")["cssText"]=q}else{e(this).attr("style",q)}if(i.add){e(this).addClass(i.add)}if(i.remove){e(this).removeClass(i.remove)}if(g){g.apply(this,arguments)}})})}};function d(h,g){var j=h[1]&&h[1].constructor==Object?h[1]:{};if(g){j.mode=g}var i=h[1]&&h[1].constructor!=Object?h[1]:(j.duration?j.duration:h[2]);i=e.fx.off?0:typeof i==="number"?i:e.fx.speeds[i]||e.fx.speeds._default;var k=j.callback||(e.isFunction(h[1])&&h[1])||(e.isFunction(h[2])&&h[2])||(e.isFunction(h[3])&&h[3]);return[h[0],j,i,k]}e.fn.extend({_show:e.fn.show,_hide:e.fn.hide,__toggle:e.fn.toggle,_addClass:e.fn.addClass,_removeClass:e.fn.removeClass,_toggleClass:e.fn.toggleClass,effect:function(h,g,i,j){return e.effects[h]?e.effects[h].call(this,{method:h,options:g||{},duration:i,callback:j}):null},show:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._show.apply(this,arguments)}else{return this.effect.apply(this,d(arguments,"show"))}},hide:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._hide.apply(this,arguments)}else{return this.effect.apply(this,d(arguments,"hide"))}},toggle:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))||(e.isFunction(arguments[0])||typeof arguments[0]=="boolean")){return this.__toggle.apply(this,arguments)}else{return this.effect.apply(this,d(arguments,"toggle"))}},addClass:function(h,g,j,i){return g?e.effects.animateClass.apply(this,[{add:h},g,j,i]):this._addClass(h)},removeClass:function(h,g,j,i){return g?e.effects.animateClass.apply(this,[{remove:h},g,j,i]):this._removeClass(h)},toggleClass:function(h,g,j,i){return((typeof g!=="boolean")&&g)?e.effects.animateClass.apply(this,[{toggle:h},g,j,i]):this._toggleClass(h,g)},morph:function(g,i,h,k,j){return e.effects.animateClass.apply(this,[{add:i,remove:g},h,k,j])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(g){var h=this.css(g),i=[];e.each(["em","px","%","pt"],function(j,k){if(h.indexOf(k)>0){i=[parseFloat(h),k]}});return i}});e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(h,g){e.fx.step[g]=function(i){if(i.state==0){i.start=f(i.elem,g);i.end=b(i.end)}i.elem.style[g]="rgb("+[Math.max(Math.min(parseInt((i.pos*(i.end[0]-i.start[0]))+i.start[0],10),255),0),Math.max(Math.min(parseInt((i.pos*(i.end[1]-i.start[1]))+i.start[1],10),255),0),Math.max(Math.min(parseInt((i.pos*(i.end[2]-i.start[2]))+i.start[2],10),255),0)].join(",")+")"}});function b(h){var g;if(h&&h.constructor==Array&&h.length==3){return h}if(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(h)){return[parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10)]}if(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(h)){return[parseFloat(g[1])*2.55,parseFloat(g[2])*2.55,parseFloat(g[3])*2.55]}if(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(h)){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}if(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(h)){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}if(g=/rgba\(0, 0, 0, 0\)/.exec(h)){return a.transparent}return a[e.trim(h).toLowerCase()]}function f(i,g){var h;do{h=e.curCSS(i,g);if(h!=""&&h!="transparent"||e.nodeName(i,"body")){break}g="backgroundColor"}while(i=i.parentNode);return b(h)}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};e.easing.jswing=e.easing.swing;e.extend(e.easing,{def:"easeOutQuad",swing:function(h,i,g,k,j){return e.easing[e.easing.def](h,i,g,k,j)},easeInQuad:function(h,i,g,k,j){return k*(i/=j)*i+g},easeOutQuad:function(h,i,g,k,j){return -k*(i/=j)*(i-2)+g},easeInOutQuad:function(h,i,g,k,j){if((i/=j/2)<1){return k/2*i*i+g}return -k/2*((--i)*(i-2)-1)+g},easeInCubic:function(h,i,g,k,j){return k*(i/=j)*i*i+g},easeOutCubic:function(h,i,g,k,j){return k*((i=i/j-1)*i*i+1)+g},easeInOutCubic:function(h,i,g,k,j){if((i/=j/2)<1){return k/2*i*i*i+g}return k/2*((i-=2)*i*i+2)+g},easeInQuart:function(h,i,g,k,j){return k*(i/=j)*i*i*i+g},easeOutQuart:function(h,i,g,k,j){return -k*((i=i/j-1)*i*i*i-1)+g},easeInOutQuart:function(h,i,g,k,j){if((i/=j/2)<1){return k/2*i*i*i*i+g}return -k/2*((i-=2)*i*i*i-2)+g},easeInQuint:function(h,i,g,k,j){return k*(i/=j)*i*i*i*i+g},easeOutQuint:function(h,i,g,k,j){return k*((i=i/j-1)*i*i*i*i+1)+g},easeInOutQuint:function(h,i,g,k,j){if((i/=j/2)<1){return k/2*i*i*i*i*i+g}return k/2*((i-=2)*i*i*i*i+2)+g},easeInSine:function(h,i,g,k,j){return -k*Math.cos(i/j*(Math.PI/2))+k+g},easeOutSine:function(h,i,g,k,j){return k*Math.sin(i/j*(Math.PI/2))+g},easeInOutSine:function(h,i,g,k,j){return -k/2*(Math.cos(Math.PI*i/j)-1)+g},easeInExpo:function(h,i,g,k,j){return(i==0)?g:k*Math.pow(2,10*(i/j-1))+g},easeOutExpo:function(h,i,g,k,j){return(i==j)?g+k:k*(-Math.pow(2,-10*i/j)+1)+g},easeInOutExpo:function(h,i,g,k,j){if(i==0){return g}if(i==j){return g+k}if((i/=j/2)<1){return k/2*Math.pow(2,10*(i-1))+g}return k/2*(-Math.pow(2,-10*--i)+2)+g},easeInCirc:function(h,i,g,k,j){return -k*(Math.sqrt(1-(i/=j)*i)-1)+g},easeOutCirc:function(h,i,g,k,j){return k*Math.sqrt(1-(i=i/j-1)*i)+g},easeInOutCirc:function(h,i,g,k,j){if((i/=j/2)<1){return -k/2*(Math.sqrt(1-i*i)-1)+g}return k/2*(Math.sqrt(1-(i-=2)*i)+1)+g},easeInElastic:function(h,j,g,n,m){var k=1.70158;var l=0;var i=n;if(j==0){return g}if((j/=m)==1){return g+n}if(!l){l=m*0.3}if(i<Math.abs(n)){i=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/i)}return -(i*Math.pow(2,10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l))+g},easeOutElastic:function(h,j,g,n,m){var k=1.70158;var l=0;var i=n;if(j==0){return g}if((j/=m)==1){return g+n}if(!l){l=m*0.3}if(i<Math.abs(n)){i=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/i)}return i*Math.pow(2,-10*j)*Math.sin((j*m-k)*(2*Math.PI)/l)+n+g},easeInOutElastic:function(h,j,g,n,m){var k=1.70158;var l=0;var i=n;if(j==0){return g}if((j/=m/2)==2){return g+n}if(!l){l=m*(0.3*1.5)}if(i<Math.abs(n)){i=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/i)}if(j<1){return -0.5*(i*Math.pow(2,10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l))+g}return i*Math.pow(2,-10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l)*0.5+n+g},easeInBack:function(h,i,g,l,k,j){if(j==undefined){j=1.70158}return l*(i/=k)*i*((j+1)*i-j)+g},easeOutBack:function(h,i,g,l,k,j){if(j==undefined){j=1.70158}return l*((i=i/k-1)*i*((j+1)*i+j)+1)+g},easeInOutBack:function(h,i,g,l,k,j){if(j==undefined){j=1.70158}if((i/=k/2)<1){return l/2*(i*i*(((j*=(1.525))+1)*i-j))+g}return l/2*((i-=2)*i*(((j*=(1.525))+1)*i+j)+2)+g},easeInBounce:function(h,i,g,k,j){return k-e.easing.easeOutBounce(h,j-i,0,k,j)+g},easeOutBounce:function(h,i,g,k,j){if((i/=j)<(1/2.75)){return k*(7.5625*i*i)+g}else{if(i<(2/2.75)){return k*(7.5625*(i-=(1.5/2.75))*i+0.75)+g}else{if(i<(2.5/2.75)){return k*(7.5625*(i-=(2.25/2.75))*i+0.9375)+g}else{return k*(7.5625*(i-=(2.625/2.75))*i+0.984375)+g}}}},easeInOutBounce:function(h,i,g,k,j){if(i<j/2){return e.easing.easeInBounce(h,i*2,0,k,j)*0.5+g}return e.easing.easeOutBounce(h,i*2-j,0,k,j)*0.5+k*0.5+g}})})(jQuery);(function(a){a.effects.highlight=function(b){return this.queue(function(){var f=a(this),e=["backgroundImage","backgroundColor","opacity"];var i=a.effects.setMode(f,b.options.mode||"show");var d=b.options.color||"#ffff99";var h=f.css("backgroundColor");a.effects.save(f,e);f.show();f.css({backgroundImage:"none",backgroundColor:d});var g={backgroundColor:h};if(i=="hide"){g.opacity=0}f.animate(g,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){if(i=="hide"){f.hide()}a.effects.restore(f,e);if(i=="show"&&a.browser.msie){this.style.removeAttribute("filter")}if(b.callback){b.callback.apply(this,arguments)}f.dequeue()}})})}})(jQuery);(function(a){a.effects.transfer=function(b){return this.queue(function(){var g=a(this),i=a(b.options.to),f=i.offset(),h={top:f.top,left:f.left,height:i.innerHeight(),width:i.innerWidth()},e=g.offset(),d=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:e.top,left:e.left,height:g.innerHeight(),width:g.innerWidth(),position:"absolute"}).animate(h,b.duration,b.options.easing,function(){d.remove();(b.callback&&b.callback.apply(g[0],arguments));g.dequeue()})})}})(jQuery);(function(a){jQuery.widget("ui.selectmenu",{_init:function(){var k=this,g,v,l=this.options,b,j=[],x,r,q=[];g=Math.round(Math.random()*1000);this.ids=[this.element.attr("id")+"_button_"+g,this.element.attr("id")+"_menu_"+g];this._safemouseup=true;this.newelement=jQuery('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" aria-haspopup="true" aria-owns="'+this.ids[1]+'" aria-expanded="false"></a>').insertAfter(this.element);v=this.element.attr("tabindex")||"0";this.newelement.attr("tabindex",v);this.newelement.data("selectelement",this.element);this.selectmenuIcon=jQuery('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement).addClass((l.style==="popup")?"ui-icon-triangle-2-n-s":"ui-icon-triangle-1-s");jQuery("label[for="+this.element.attr("id")+"]").attr("for",this.ids[0]).bind("click",function(){k.newelement.focus();return false});this.newelement.bind("mousedown",function(i){k._toggle(i);if(l.style==="popup"){k._safemouseup=false;setTimeout(function(){k._safemouseup=true},300)}return false}).bind("click",function(){return false}).keydown(function(o){var i=true;switch(o.keyCode){case jQuery.ui.keyCode.ENTER:i=true;break;case jQuery.ui.keyCode.SPACE:i=false;k._toggle(o);break;case jQuery.ui.keyCode.UP:case jQuery.ui.keyCode.LEFT:i=false;k._moveSelection(-1);break;case jQuery.ui.keyCode.DOWN:case jQuery.ui.keyCode.RIGHT:i=false;k._moveSelection(1);break;case jQuery.ui.keyCode.TAB:i=true;break;default:i=false;k._typeAhead(o.keyCode,"mouseup");break}return i}).bind("mouseover focus",function(){jQuery(this).addClass(k.widgetBaseClass+"-focus ui-state-hover")}).bind("mouseout blur",function(){jQuery(this).removeClass(k.widgetBaseClass+"-focus ui-state-hover")});jQuery(document).mousedown(function(i){k.close(i)});this.element.click(function(){this._refreshValue()}).focus(function(){this.newelement.focus()});b=(l.style==="dropdown")?" ui-corner-bottom":" ui-corner-all";this.list=jQuery('<ul class="'+k.widgetBaseClass+"-menu ui-widget ui-widget-content"+b+'" aria-hidden="true" role="listbox" aria-multiselectable="false" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo("body");this.element.find("option").each(function(){j.push({value:jQuery(this).attr("value"),text:k._formatText(jQuery(this).text()),selected:jQuery(this).attr("selected"),classes:jQuery(this).attr("class"),parentOptGroup:jQuery(this).parent("optgroup").attr("label")})});x=(k.options.style==="popup")?" ui-state-active":"";r=l.icons||[];if(r.length>0){jQuery.each(r,function(){q[this.find.slice(1)]=this.icon})}for(var n in j){var u=j[n].classes,f,p="",m=false,h=j[n].parentOptGroup;if(u!=="undefined"){if(typeof(q[u])!=="undefined"){p='<span class="'+k.widgetBaseClass+"-item-icon ui-icon "+q[u]+'"></span>';m=true}}f=jQuery('<li><a href="#" tabindex="-1" role="option" aria-selected="false">'+p+"&nbsp;"+j[n].text+"</a></li>").data("index",n).addClass(u).data("optionClasses",u).mouseup(function(i){if(k._safemouseup){var o=jQuery(this).data("index")!==k._selectedIndex();k.value(jQuery(this).data("index"));k.select(i);if(o){k.change(i)}k.close(i,true)}return false}).click(function(){return false}).bind("mouseover focus",function(){k._selectedOptionLi().addClass(x);k._focusedOptionLi().removeClass(k.widgetBaseClass+"-item-focus ui-state-hover");jQuery(this).removeClass("ui-state-active").addClass(k.widgetBaseClass+"-item-focus ui-state-hover")}).bind("mouseout blur",function(){if(jQuery(this).is(k._selectedOptionLi())){jQuery(this).addClass(x)}jQuery(this).removeClass(k.widgetBaseClass+"-item-focus ui-state-hover")});if(m){f.data("optionClasses",u+" "+k.widgetBaseClass+"-hasIcon").addClass(k.widgetBaseClass+"-hasIcon")}if(h){var d=k.widgetBaseClass+"-group-"+h;if(this.list.find("li."+d).size()){this.list.find("li."+d+":last ul").append(f)}else{jQuery('<li class="'+k.widgetBaseClass+"-group "+d+'"><span class="'+k.widgetBaseClass+'-group-label">'+h+"</span><ul></ul></li>").appendTo(this.list).find("ul").append(f)}}else{f.appendTo(this.list)}this.list.bind("mousedown mouseup",function(){return false})}if(l.transferClasses){var e=this.element.attr("class")||"";this.newelement.add(this.list).addClass(e)}var w=this.element.width();this.newelement.width((l.width)?l.width:w);if(l.style==="dropdown"){this.list.width((l.menuWidth)?l.menuWidth:((l.width)?l.width:w))}else{this.list.width((l.menuWidth)?l.menuWidth:((l.width)?l.width-l.handleWidth:w-l.handleWidth))}if(l.maxHeight&&l.maxHeight<this.list.height()){this.list.height(l.maxHeight)}this._optionLis=this.list.find("li:not(."+k.widgetBaseClass+"-group)");this.list.keydown(function(o){var i=true;switch(o.keyCode){case jQuery.ui.keyCode.UP:case jQuery.ui.keyCode.LEFT:i=false;k._moveFocus(-1);break;case jQuery.ui.keyCode.DOWN:case jQuery.ui.keyCode.RIGHT:i=false;k._moveFocus(1);break;case jQuery.ui.keyCode.HOME:i=false;k._moveFocus(":first");break;case jQuery.ui.keyCode.PAGE_UP:i=false;k._scrollPage("up");break;case jQuery.ui.keyCode.PAGE_DOWN:i=false;k._scrollPage("down");break;case jQuery.ui.keyCode.END:i=false;k._moveFocus(":last");break;case jQuery.ui.keyCode.ENTER:case jQuery.ui.keyCode.SPACE:i=false;k.close(o,true);jQuery(o.target).parents("li:eq(0)").trigger("mouseup");break;case jQuery.ui.keyCode.TAB:i=true;k.close(o);break;case jQuery.ui.keyCode.ESCAPE:i=false;k.close(o,true);break;default:i=false;k._typeAhead(o.keyCode,"focus");break}return i});if(l.style==="dropdown"){this.newelement.addClass(k.widgetBaseClass+"-dropdown");this.list.addClass(k.widgetBaseClass+"-menu-dropdown")}else{this.newelement.addClass(k.widgetBaseClass+"-popup");this.list.addClass(k.widgetBaseClass+"-menu-popup")}this.newelement.prepend('<span class="'+k.widgetBaseClass+'-status">'+j[this._selectedIndex()].text+"</span>");this.element.hide();if(this.element.attr("disabled")===true){this.disable()}this.value(this._selectedIndex())},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled");jQuery("label[for="+this.newelement.attr("id")+"]").attr("for",this.element.attr("id")).unbind("click");this.newelement.remove();this.list.remove();this.element.show()},_typeAhead:function(f,e){var b=this;if(!b._prevChar){b._prevChar=["",0]}var h=String.fromCharCode(f),d=false,g=function(i,j){d=true;jQuery(i).trigger(e);b._prevChar[1]=j};c=h.toLowerCase();this.list.find("li a").each(function(j){if(!d){var k=jQuery(this).text();if(k.indexOf(h)===0||k.indexOf(c)===0){if(b._prevChar[0]==h){if(b._prevChar[1]<j){g(this,j)}}else{g(this,j)}}}});this._prevChar[0]=h},_uiHash:function(){return{value:this.value()}},open:function(d){var b=this;this._refreshPosition();this._closeOthers(d);this.newelement.attr("aria-expanded",true).addClass("ui-state-active");this.list.appendTo("body").addClass(b.widgetBaseClass+"-open").attr("aria-hidden",false).find("li:not(."+b.widgetBaseClass+"-group):eq("+this._selectedIndex()+") a").focus();if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-all").addClass("ui-corner-top")}this._refreshPosition();this._trigger("open",d,this._uiHash());jQuery(".ui-selectmenu-menu").show()},close:function(d,b){if(this.newelement.is(".ui-state-active")){this.newelement.attr("aria-expanded",false).removeClass("ui-state-active");this.list.attr("aria-hidden",true).removeClass(this.widgetBaseClass+"-open");if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all")}if(b){this.newelement.focus()}this._trigger("close",d,this._uiHash());jQuery(".ui-selectmenu-menu").css("display","none")}},change:function(b){this.element.trigger("change");this._trigger("change",b,this._uiHash())},select:function(b){this._trigger("select",b,this._uiHash())},_closeOthers:function(b){jQuery("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){jQuery(this).data("selectelement").selectmenu("close",b)});jQuery("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(d,b){if(this.list.is("."+this.widgetBaseClass+"-open")){this.close(d,b)}else{this.open(d)}},_formatText:function(b){return this.options.format?this.options.format(b):b},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(e){var d=parseInt(this._selectedOptionLi().data("index"),10);var b=d+e;return this._optionLis.eq(b).trigger("mouseup")},_moveFocus:function(e){var b;if(!isNaN(e)){var d=parseInt(this._focusedOptionLi().data("index"),10);b=d+e}else{b=parseInt(this._optionLis.filter(e).data("index"),10)}if(b<0){b=0}if(b>this._optionLis.size()-1){b=this._optionLis.size()-1}this._focusedOptionLi().find("a:eq(0)").blur();this._optionLis.eq(b).find("a:eq(0)").focus()},_scrollPage:function(d){var b=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());b=(d=="up")?-b:b;this._moveFocus(b)},_setData:function(b,d){this.options[b]=d;if(b=="disabled"){this.element.add(this.newelement).add(this.list)[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",d)}},value:function(b){if(arguments.length){this.element[0].selectedIndex=b;this._refreshValue();this._refreshPosition()}return this.element[0].selectedIndex},_refreshValue:function(){var d=(this.options.style=="popup")?" ui-state-active":"";this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+d).find("a").attr("aria-selected","false");this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+d).find("a").attr("aria-selected","true");var b=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"";var e=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(b).data("optionClasses",e).addClass(e).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html())},_refreshPosition:function(){var b=this.newelement.offset().top;var d=this.list[0].scrollTop;this.list.find("li:lt("+this._selectedIndex()+")").each(function(){d-=jQuery(this).outerHeight()});if(this.newelement.is("."+this.widgetBaseClass+"-popup")){b+=d;this.list.css("top",b)}else{b+=this.newelement.height();this.list.css("top",b)}}});jQuery.extend(jQuery.ui.selectmenu,{getter:"value",version:"@VERSION",eventPrefix:"selectmenu",defaults:{transferClasses:true,style:"popup",width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null}})})(jQuery);(function(d,b,e){function a(j){for(var g=0,f=b.length,k=j.target,h;g<f;g++){h=b[g];if(h!==k&&!(h.contains?h.contains(k):h.compareDocumentPosition?h.compareDocumentPosition(k)&16:1)){d.event.trigger(e,j,h)}}}d.event.special[e]={setup:function(){var f=b.length;if(!f){d.event.add(document,"click",a)}if(d.inArray(this,b)<0){b[f]=this}},teardown:function(){var f=d.inArray(this,b);if(f>=0){b.splice(f,1);if(!b.length){d.event.remove(document,"click",a)}}}};d.fn[e]=function(f){return f?this.bind(e,f):this.trigger(e)}})(jQuery,[],"outerClick");(function(a){a.fn.autogrow=function(b){return this.each(function(){new a.autogrow(this,b)})};a.autogrow=function(b,d){this.options=d||{};this.dummy=null;this.interval=null;this.line_height=this.options.lineHeight||parseInt(a(b).css("line-height"),10);this.min_height=this.options.minHeight||parseInt(a(b).css("min-height"),10);this.max_height=this.options.maxHeight||parseInt(a(b).css("max-height"),10);this.textarea=a(b);this.expand_tolerance=(!isNaN(this.options.expandTolerance)&&this.options.expandTolerance>-1)?this.options.expandTolerance:4;if(isNaN(this.line_height)){this.line_height=0}if(isNaN(this.min_height)||this.min_height===0){this.min_height=this.textarea.height()}this.init()};a.autogrow.fn=a.autogrow.prototype={autogrow:"1.2.4"};a.autogrow.fn.extend=a.autogrow.extend=a.extend;a.autogrow.fn.extend({init:function(){var b=this;this.textarea.css({overflow:"hidden",display:"block"});this.textarea.bind("focus",function(){b.startExpand()}).bind("blur",function(){b.stopExpand()}).bind("update",function(){b.checkExpand(0,true)});this.checkExpand(0,true)},startExpand:function(){var b=this;this.checkExpand(this.line_height,true);this.interval=window.setInterval(function(){b.checkExpand(b.line_height,false)},400)},stopExpand:function(){clearInterval(this.interval);this.checkExpand(0,true)},checkExpand:function(e,d){if(this.dummy===null){this.dummy=a("<div></div>");this.dummy.css({"font-size":this.textarea.css("font-size"),"font-family":this.textarea.css("font-family"),width:this.textarea.css("width"),"padding-top":this.textarea.css("padding-top"),"padding-bottom":this.textarea.css("padding-bottom"),"padding-left":this.textarea.css("padding-left"),"padding-right":this.textarea.css("padding-right"),"line-height":this.line_height+"px","overflow-x":"hidden",position:"absolute",top:0,left:-9999}).appendTo("body")}else{this.dummy.show()}var b=this.textarea.val().toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^\s/,"&nbsp;").replace(/\s{2}/g," &nbsp;")+".";if(a.browser.msie){b=b.replace(/\n/g,"<BR>")}else{b=b.replace(/\n/g,"<br>")}if(d||this.dummy.html()!=b){this.dummy.html(b);if(this.max_height>0&&(this.dummy.height()+(this.expand_tolerance*this.line_height)>this.max_height)){this.textarea.css("overflow-y","auto");this.textarea.css("height",this.max_height);if(this.textarea.height()<this.max_height){this.textarea.animate({height:(this.max_height+(this.expand_tolerance*this.line_height))+"px"},100)}}else{this.textarea.css("overflow-y","hidden");if(this.textarea.height()<this.dummy.height()+(this.expand_tolerance*this.line_height)||(this.dummy.height()<this.textarea.height())){if(this.dummy.height()<this.min_height){this.textarea.animate({height:(this.min_height+(this.expand_tolerance*this.line_height))+"px"},100)}else{this.textarea.animate({height:(this.dummy.height()+(this.expand_tolerance*this.line_height))+"px"},100)}}}}this.dummy.hide()}})})(jQuery);(function(a){var b=function(d){var g=null,f=a("#"+d),e=a("input[name="+d+"]");if(f!==undefined){g=f}else{if(e!==undefined){g=e}}return g};a.fn.autotab_magic=function(d){for(var e=0;e<this.length;e++){var g=e+1,f=e-1;if(e>0&&g<this.length){a(this[e]).autotab({target:a(this[g]),previous:a(this[f])})}else{if(e>0){a(this[e]).autotab({previous:a(this[f])})}else{a(this[e]).autotab({target:a(this[g])})}}if(d!==null&&(isNaN(d)&&d==a(this[e]).attr("id"))||(!isNaN(d)&&d==e)){a(this[e]).focus()}}};a.fn.autotab_filter=function(d){var f={format:"all",uppercase:false,lowercase:false,nospace:false,pattern:null};if(typeof d=="string"||typeof d=="function"){f.format=d}else{a.extend(f,d)}for(var e=0;e<this.length;e++){a(this[e]).bind("keyup",function(h){var i=this.value,g;switch(f.format){case"text":g=new RegExp("[0-9]+","g");i=i.replace(g,"");break;case"alpha":g=new RegExp("[^a-zA-Z]+","g");i=i.replace(g,"");break;case"number":case"numeric":g=new RegExp("[^0-9]+","g");i=i.replace(g,"");break;case"alphanumeric":g=new RegExp("[^0-9a-zA-Z]+","g");i=i.replace(g,"");break;case"custom":g=new RegExp(f.pattern,"g");i=i.replace(g,"");break;default:if(typeof f.format=="function"){i=f.format(i)}break}if(f.nospace){g=new RegExp("[ ]+","g");i=i.replace(g,"")}if(f.uppercase){i=i.toUpperCase()}if(f.lowercase){i=i.toLowerCase()}if(i!=this.value){this.value=i}})}};a.fn.autotab=function(d){var g={format:"all",maxlength:2147483647,uppercase:false,lowercase:false,nospace:false,target:null,previous:null,pattern:null},e=a(this).attr("maxlength"),f=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];a.extend(g,d);if(typeof g.target=="string"){g.target=b(g.target)}if(typeof g.previous=="string"){g.previous=b(g.previous)}if(g.maxlength==2147483647&&e!=2147483647){g.maxlength=e}else{if(g.maxlength>0){a(this).attr("maxlength",g.maxlength)}else{g.target=null}}if(g.format!="all"){a(this).autotab_filter(g)}return a(this).bind("keydown",function(h){if(h.which==8&&this.value.length===0&&g.previous){g.previous.focus().val(g.previous.val())}}).bind("keyup",function(h){if(h.which!=8){var i=a(this).val();if(a.inArray(h.which,f)==-1&&i.length==g.maxlength&&g.target){g.target.focus()}}})}})(jQuery);jQuery.bt={};(function($){jQuery.fn.bt=function(content,options){var contentSelect=false;jQuery.bt.defaults={trigger:"hover",clickAnywhereToClose:true,closeWhenOthersOpen:false,shrinkToFit:false,width:"200px",padding:"10px",spikeGirth:10,spikeLength:15,overlap:0,overlay:false,killTitle:true,textzIndex:9999,boxzIndex:9998,wrapperzIndex:9997,offsetParent:null,positions:["most"],fill:"rgb(255, 255, 102)",windowMargin:10,strokeWidth:1,strokeStyle:"#000",cornerRadius:5,centerPointX:".5",centerPointY:".5",shadow:false,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:false,noShadowOpts:{strokeStyle:"#999"},cssClass:"",cssStyles:{},activeClass:"bt-active",contentSelector:"$(this).attr('title')",ajaxPath:null,ajaxError:"<strong>ERROR:</strong> <em>%error</em>",ajaxLoading:"<blink>Loading...</blink>",ajaxData:{},ajaxType:"GET",ajaxCache:true,ajaxOpts:{},preBuild:function(){},preShow:function(box){},showTip:function(box){$(box).show()},postShow:function(box){},preHide:function(box){},hideTip:function(box,callback){$(box).hide();callback()},postHide:function(){},hoverIntentOpts:{interval:300,timeout:500}};jQuery.bt.options={};function numb(num){return parseInt(num,10)||0}if(typeof content!="string"){contentSelect=true;options=content;content=false}function shadowSupport(){try{var userAgent=navigator.userAgent.toLowerCase();if(/webkit/.test(userAgent)){return true}else{if(/gecko|mozilla/.test(userAgent)&&parseFloat(userAgent.match(/firefox\/(\d+(?:\.\d+)+)/)[1])>=3.1){return true}}}catch(err){}return false}function round5(num,strokeWidth){var ret;strokeWidth=numb(strokeWidth);if(strokeWidth%2){ret=num}else{ret=Math.round(num-0.5)+0.5}return ret}function arrayRemove(arr,elem){var x,newArr=[];for(x in arr){if(arr[x]!=elem){newArr.push(arr[x])}}return newArr}function canvasSupport(){var canvas_compatible=false;try{canvas_compatible=!!(document.createElement("canvas").getContext("2d"))}catch(e){canvas_compatible=!!(document.createElement("canvas").getContext)}return canvas_compatible}if(jQuery.fn.hoverIntent&&jQuery.bt.defaults.trigger=="hover"){jQuery.bt.defaults.trigger="hoverIntent"}return this.each(function(index){var opts=jQuery.extend(false,jQuery.bt.defaults,jQuery.bt.options,options),ajaxTimeout=false;opts.spikeLength=numb(opts.spikeLength);opts.spikeGirth=numb(opts.spikeGirth);opts.overlap=numb(opts.overlap);function drawIt(points,strokeWidth){this.moveTo(points[0].x,points[0].y);for(var i=1;i<points.length;i++){if(points[i-1].type=="arcStart"){this.quadraticCurveTo(round5(points[i].x,strokeWidth),round5(points[i].y,strokeWidth),round5(points[(i+1)%points.length].x,strokeWidth),round5(points[(i+1)%points.length].y,strokeWidth));i++}else{this.lineTo(round5(points[i].x,strokeWidth),round5(points[i].y,strokeWidth))}}}function betweenPoint(point1,point2,dist){var y,x;if(point1.x==point2.x){y=point1.y<point2.y?point1.y+dist:point1.y-dist;return{x:point1.x,y:y}}else{if(point1.y==point2.y){x=point1.x<point2.x?point1.x+dist:point1.x-dist;return{x:x,y:point1.y}}}}function centerPoint(arcStart,corner,arcEnd){var x=corner.x==arcStart.x?arcEnd.x:arcStart.x;var y=corner.y==arcStart.y?arcEnd.y:arcStart.y;var startAngle,endAngle;if(arcStart.x<arcEnd.x){if(arcStart.y>arcEnd.y){startAngle=(Math.PI/180)*180;endAngle=(Math.PI/180)*90}else{startAngle=(Math.PI/180)*90;endAngle=0}}else{if(arcStart.y>arcEnd.y){startAngle=(Math.PI/180)*270;endAngle=(Math.PI/180)*180}else{startAngle=0;endAngle=(Math.PI/180)*270}}return{x:x,y:y,type:"center",startAngle:startAngle,endAngle:endAngle}}function findIntersectY(r1x1,r1y1,r1x2,r1y2,x){if(r1y1==r1y2){return{x:x,y:r1y1}}var r1m=(r1y1-r1y2)/(r1x1-r1x2);var r1b=r1y1-(r1m*r1x1);var y=r1m*x+r1b;return{x:x,y:y}}function findIntersectX(r1x1,r1y1,r1x2,r1y2,y){if(r1x1==r1x2){return{x:r1x1,y:y}}var r1m=(r1y1-r1y2)/(r1x1-r1x2);var r1b=r1y1-(r1m*r1x1);var x=(y-r1b)/r1m;return{x:x,y:y}}function findIntersect(r1x1,r1y1,r1x2,r1y2,r2x1,r2y1,r2x2,r2y2){if(r2x1==r2x2){return findIntersectY(r1x1,r1y1,r1x2,r1y2,r2x1)}if(r2y1==r2y2){return findIntersectX(r1x1,r1y1,r1x2,r1y2,r2y1)}var r1m=(r1y1-r1y2)/(r1x1-r1x2);var r1b=r1y1-(r1m*r1x1);var r2m=(r2y1-r2y2)/(r2x1-r2x2);var r2b=r2y1-(r2m*r2x1);var x=(r2b-r1b)/(r1m-r2m);var y=r1m*x+r1b;return{x:x,y:y}}if(opts.killTitle){$(this).find("[title]").andSelf().each(function(){if(!$(this).attr("bt-xTitle")){$(this).attr("bt-xTitle",$(this).attr("title")).attr("title","")}})}if(typeof opts.trigger=="string"){opts.trigger=[opts.trigger]}if(opts.trigger[0]=="hoverIntent"){var hoverOpts=jQuery.extend(opts.hoverIntentOpts,{over:function(){this.btOn()},out:function(){this.btOff()}});$(this).hoverIntent(hoverOpts)}else{if(opts.trigger[0]=="hover"){$(this).hover(function(){this.btOn()},function(){this.btOff()})}else{if(opts.trigger[0]=="now"){if($(this).hasClass("bt-active")){this.btOff()}else{this.btOn()}}else{if(opts.trigger[0]=="none"){}else{if(opts.trigger.length>1&&opts.trigger[0]!=opts.trigger[1]){$(this).bind(opts.trigger[0],function(){this.btOn()}).bind(opts.trigger[1],function(){this.btOff()})}else{$(this).bind(opts.trigger[0],function(){if($(this).hasClass("bt-active")){this.btOff()}else{this.btOn()}})}}}}}this.btOn=function(){if(typeof $(this).data("bt-box")=="object"){this.btOff()}opts.preBuild.apply(this);$(jQuery.bt.vars.closeWhenOpenStack).btOff();$(this).addClass("bt-active "+opts.activeClass);if(contentSelect&&opts.ajaxPath===null){if(opts.killTitle){$(this).attr("title",$(this).attr("bt-xTitle"))}content=$.isFunction(opts.contentSelector)?opts.contentSelector.apply(this):eval(opts.contentSelector);if(opts.killTitle){$(this).attr("title","")}}if(opts.ajaxPath!==null&&content===false){var url="";if(typeof opts.ajaxPath=="object"){url=eval(opts.ajaxPath[0]);url+=opts.ajaxPath[1]?" "+opts.ajaxPath[1]:""}else{url=opts.ajaxPath}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var cacheData=opts.ajaxCache?$(document.body).data("btCache-"+url.replace(/\./g,"")):null;if(typeof cacheData=="string"){content=selector?$("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):cacheData}else{var target=this;var ajaxOpts=jQuery.extend(false,{type:opts.ajaxType,data:opts.ajaxData,cache:opts.ajaxCache,url:url,complete:function(XMLHttpRequest,textStatus){if(textStatus=="success"||textStatus=="notmodified"){if(opts.ajaxCache){$(document.body).data("btCache-"+url.replace(/\./g,""),XMLHttpRequest.responseText)}ajaxTimeout=false;content=selector?$("<div/>").append(XMLHttpRequest.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):XMLHttpRequest.responseText}else{if(textStatus=="timeout"){ajaxTimeout=true}content=opts.ajaxError.replace(/%error/g,XMLHttpRequest.statusText)}if($(target).hasClass("bt-active")){target.btOn()}}},opts.ajaxOpts);jQuery.ajax(ajaxOpts);content=opts.ajaxLoading}}var shadowMarginX=0;var shadowMarginY=0;var shadowShiftX=0;var shadowShiftY=0;if(opts.shadow&&!shadowSupport()){opts.shadow=false;jQuery.extend(opts,opts.noShadowOpts)}if(opts.shadow){if(opts.shadowBlur>Math.abs(opts.shadowOffsetX)){shadowMarginX=opts.shadowBlur*2}else{shadowMarginX=opts.shadowBlur+Math.abs(opts.shadowOffsetX)}shadowShiftX=(opts.shadowBlur-opts.shadowOffsetX)>0?opts.shadowBlur-opts.shadowOffsetX:0;if(opts.shadowBlur>Math.abs(opts.shadowOffsetY)){shadowMarginY=opts.shadowBlur*2}else{shadowMarginY=opts.shadowBlur+Math.abs(opts.shadowOffsetY)}shadowShiftY=(opts.shadowBlur-opts.shadowOffsetY)>0?opts.shadowBlur-opts.shadowOffsetY:0}var pos,top,left,offsetParent;if(opts.offsetParent){var offsetParentPos=offsetParent.offset();offsetParent=$(opts.offsetParent);pos=$(this).offset();top=numb(pos.top)-numb(offsetParentPos.top)+numb($(this).css("margin-top"))-shadowShiftY;left=numb(pos.left)-numb(offsetParentPos.left)+numb($(this).css("margin-left"))-shadowShiftX}else{offsetParent=($(this).css("position")=="absolute")?$(this).parents().eq(0).offsetParent():$(this).offsetParent();pos=$(this).btPosition();top=numb(pos.top)+numb($(this).css("margin-top"))-shadowShiftY;left=numb(pos.left)+numb($(this).css("margin-left"))-shadowShiftX}var width=$(this).btOuterWidth(),height=$(this).outerHeight();if(typeof content=="object"){var original=content;var clone=$(original).clone(true).show();var origClones=$(original).data("bt-clones")||[];origClones.push(clone);$(original).data("bt-clones",origClones);$(clone).data("bt-orig",original);$(this).data("bt-content-orig",{original:original,clone:clone});content=clone}if(typeof content==="null"||content===""){return}var $text=$('<div class="bt-content"></div>').append(content).css({padding:opts.padding,position:"absolute",width:(opts.shrinkToFit?"auto":opts.width),zIndex:opts.textzIndex,left:shadowShiftX,top:shadowShiftY}).css(opts.cssStyles);var $box=$('<div class="bt-wrapper"></div>').append($text).addClass(opts.cssClass).css({position:"absolute",width:opts.width,zIndex:opts.wrapperzIndex,visibility:"hidden"}).appendTo(offsetParent);if(jQuery.fn.bgiframe){$text.bgiframe();$box.bgiframe()}$(this).data("bt-box",$box);var scrollTop=numb($(document).scrollTop()),scrollLeft=numb($(document).scrollLeft()),docWidth=numb($(window).width()),docHeight=numb($(window).height()),winRight=scrollLeft+docWidth,winBottom=scrollTop+docHeight,space={},thisOffset=$(this).offset(),textOutHeight=numb($text.outerHeight()),textOutWidth=numb($text.btOuterWidth()),position;space.top=thisOffset.top-scrollTop;space.bottom=docHeight-((thisOffset+height)-scrollTop);space.left=thisOffset.left-scrollLeft;space.right=docWidth-((thisOffset.left+width)-scrollLeft);if(opts.positions.constructor==String){opts.positions=opts.positions.replace(/ /,"").split(",")}if(opts.positions[0]=="most"){position="top";for(var pig in space){position=space[pig]>space[position]?pig:position}}else{for(var x in opts.positions){position=opts.positions[x];if((position=="left"||position=="right")&&space[position]>textOutWidth+opts.spikeLength){break}else{if((position=="top"||position=="bottom")&&space[position]>textOutHeight+opts.spikeLength){break}}}}var horiz=left+((width-textOutWidth)*0.5),vert=top+((height-textOutHeight)*0.5),points=[],textTop,textLeft,textRight,textBottom,textTopSpace,textBottomSpace,textLeftSpace,textRightSpace,crossPoint,textCenter,spikePoint,yShift,xShift;switch(position){case"top":$text.css("margin-bottom",opts.spikeLength+"px");$box.css({top:(top-$text.outerHeight(true))+opts.overlap,left:horiz});textRightSpace=(winRight-opts.windowMargin)-($text.offset().left+$text.btOuterWidth(true));xShift=shadowShiftX;if(textRightSpace<0){$box.css("left",(numb($box.css("left"))+textRightSpace)+"px");xShift-=textRightSpace}textLeftSpace=($text.offset().left+numb($text.css("margin-left")))-(scrollLeft+opts.windowMargin);if(textLeftSpace<0){$box.css("left",(numb($box.css("left"))-textLeftSpace)+"px");xShift+=textLeftSpace}textTop=$text.btPosition().top+numb($text.css("margin-top"));textLeft=$text.btPosition().left+numb($text.css("margin-left"));textRight=textLeft+$text.btOuterWidth();textBottom=textTop+$text.outerHeight();textCenter={x:textLeft+($text.btOuterWidth()*opts.centerPointX),y:textTop+($text.outerHeight()*opts.centerPointY)};points[points.length]=spikePoint={y:textBottom+opts.spikeLength,x:((textRight-textLeft)*0.5)+xShift,type:"spike"};crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom);crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x;crossPoint.x=crossPoint.x>(textRight-opts.spikeGirth/2)-opts.cornerRadius?(textRight-opts.spikeGirth/2)-opts.CornerRadius:crossPoint.x;points[points.length]={x:crossPoint.x-(opts.spikeGirth/2),y:textBottom,type:"join"};points[points.length]={x:textLeft,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textBottom,type:"corner"};points[points.length]={x:crossPoint.x+(opts.spikeGirth/2),y:textBottom,type:"join"};points[points.length]=spikePoint;break;case"left":$text.css("margin-right",opts.spikeLength+"px");$box.css({top:vert+"px",left:((left-$text.btOuterWidth(true))+opts.overlap)+"px"});textBottomSpace=(winBottom-opts.windowMargin)-($text.offset().top+$text.outerHeight(true));yShift=shadowShiftY;if(textBottomSpace<0){$box.css("top",(numb($box.css("top"))+textBottomSpace)+"px");yShift-=textBottomSpace}textTopSpace=($text.offset().top+numb($text.css("margin-top")))-(scrollTop+opts.windowMargin);if(textTopSpace<0){$box.css("top",(numb($box.css("top"))-textTopSpace)+"px");yShift+=textTopSpace}textTop=$text.btPosition().top+numb($text.css("margin-top"));textLeft=$text.btPosition().left+numb($text.css("margin-left"));textRight=textLeft+$text.btOuterWidth();textBottom=textTop+$text.outerHeight();textCenter={x:textLeft+($text.btOuterWidth()*opts.centerPointX),y:textTop+($text.outerHeight()*opts.centerPointY)};points[points.length]=spikePoint={x:textRight+opts.spikeLength,y:((textBottom-textTop)*0.5)+yShift,type:"spike"};crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textRight);crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y;crossPoint.y=crossPoint.y>(textBottom-opts.spikeGirth/2)-opts.cornerRadius?(textBottom-opts.spikeGirth/2)-opts.cornerRadius:crossPoint.y;points[points.length]={x:textRight,y:crossPoint.y+opts.spikeGirth/2,type:"join"};points[points.length]={x:textRight,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textTop,type:"corner"};points[points.length]={x:textRight,y:crossPoint.y-opts.spikeGirth/2,type:"join"};points[points.length]=spikePoint;break;case"bottom":$text.css("margin-top",opts.spikeLength+"px");$box.css({top:(top+height)-opts.overlap,left:horiz});textRightSpace=(winRight-opts.windowMargin)-($text.offset().left+$text.btOuterWidth(true));xShift=shadowShiftX;if(textRightSpace<0){$box.css("left",(numb($box.css("left"))+textRightSpace)+"px");xShift-=textRightSpace}textLeftSpace=($text.offset().left+numb($text.css("margin-left")))-(scrollLeft+opts.windowMargin);if(textLeftSpace<0){$box.css("left",(numb($box.css("left"))-textLeftSpace)+"px");xShift+=textLeftSpace}textTop=$text.btPosition().top+numb($text.css("margin-top"));textLeft=$text.btPosition().left+numb($text.css("margin-left"));textRight=textLeft+$text.btOuterWidth();textBottom=textTop+$text.outerHeight();textCenter={x:textLeft+($text.btOuterWidth()*opts.centerPointX),y:textTop+($text.outerHeight()*opts.centerPointY)};points[points.length]=spikePoint={x:((textRight-textLeft)*0.5)+xShift,y:shadowShiftY,type:"spike"};crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textTop);crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x;crossPoint.x=crossPoint.x>(textRight-opts.spikeGirth/2)-opts.cornerRadius?(textRight-opts.spikeGirth/2)-opts.cornerRadius:crossPoint.x;points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textTop,type:"join"};points[points.length]={x:textRight,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textTop,type:"corner"};points[points.length]={x:crossPoint.x-(opts.spikeGirth/2),y:textTop,type:"join"};points[points.length]=spikePoint;break;case"right":$text.css("margin-left",(opts.spikeLength+"px"));$box.css({top:vert+"px",left:((left+width)-opts.overlap)+"px"});textBottomSpace=(winBottom-opts.windowMargin)-($text.offset().top+$text.outerHeight(true));yShift=shadowShiftY;if(textBottomSpace<0){$box.css("top",(numb($box.css("top"))+textBottomSpace)+"px");yShift-=textBottomSpace}textTopSpace=($text.offset().top+numb($text.css("margin-top")))-(scrollTop+opts.windowMargin);if(textTopSpace<0){$box.css("top",(numb($box.css("top"))-textTopSpace)+"px");yShift+=textTopSpace}textTop=$text.btPosition().top+numb($text.css("margin-top"));textLeft=$text.btPosition().left+numb($text.css("margin-left"));textRight=textLeft+$text.btOuterWidth();textBottom=textTop+$text.outerHeight();textCenter={x:textLeft+($text.btOuterWidth()*opts.centerPointX),y:textTop+($text.outerHeight()*opts.centerPointY)};points[points.length]=spikePoint={x:shadowShiftX,y:((textBottom-textTop)*0.5)+yShift,type:"spike"};crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textLeft);crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y;crossPoint.y=crossPoint.y>(textBottom-opts.spikeGirth/2)-opts.cornerRadius?(textBottom-opts.spikeGirth/2)-opts.cornerRadius:crossPoint.y;points[points.length]={x:textLeft,y:crossPoint.y-opts.spikeGirth/2,type:"join"};points[points.length]={x:textLeft,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:crossPoint.y+opts.spikeGirth/2,type:"join"};points[points.length]=spikePoint;break}var canvas=document.createElement("canvas");$(canvas).attr("width",(numb($text.btOuterWidth(true))+opts.strokeWidth*2+shadowMarginX)).attr("height",(numb($text.outerHeight(true))+opts.strokeWidth*2+shadowMarginY)).appendTo($box).css({position:"absolute",zIndex:opts.boxzIndex});if(typeof(G_vmlCanvasManager)!="undefined"){canvas=G_vmlCanvasManager.initElement(canvas)}if(opts.cornerRadius>0){var newPoints=[],newPoint;for(var i=0;i<points.length;i++){if(points[i].type=="corner"){newPoint=betweenPoint(points[i],points[(i-1)%points.length],opts.cornerRadius);newPoint.type="arcStart";newPoints[newPoints.length]=newPoint;newPoints[newPoints.length]=points[i];newPoint=betweenPoint(points[i],points[(i+1)%points.length],opts.cornerRadius);newPoint.type="arcEnd";newPoints[newPoints.length]=newPoint}else{newPoints[newPoints.length]=points[i]}}points=newPoints}var ctx=canvas.getContext("2d");if(opts.shadow&&opts.shadowOverlap!==true){var shadowOverlap=numb(opts.shadowOverlap);switch(position){case"top":if(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap>0){$box.css("top",(numb($box.css("top"))-(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap)))}break;case"right":if(shadowShiftX-shadowOverlap>0){$box.css("left",(numb($box.css("left"))+shadowShiftX-shadowOverlap))}break;case"bottom":if(shadowShiftY-shadowOverlap>0){$box.css("top",(numb($box.css("top"))+shadowShiftY-shadowOverlap))}break;case"left":if(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap>0){$box.css("left",(numb($box.css("left"))-(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap)))}break}}drawIt.apply(ctx,[points],opts.strokeWidth);ctx.fillStyle=opts.fill;if(opts.shadow){ctx.shadowOffsetX=opts.shadowOffsetX;ctx.shadowOffsetY=opts.shadowOffsetY;ctx.shadowBlur=opts.shadowBlur;ctx.shadowColor=opts.shadowColor}ctx.closePath();ctx.fill();if(opts.strokeWidth>0){ctx.shadowColor="rgba(0, 0, 0, 0)";ctx.lineWidth=opts.strokeWidth;ctx.strokeStyle=opts.strokeStyle;ctx.beginPath();drawIt.apply(ctx,[points],opts.strokeWidth);ctx.closePath();ctx.stroke()}opts.preShow.apply(this,[$box[0]]);$box.css({display:"none",visibility:"visible"});opts.showTip.apply(this,[$box[0]]);if(opts.overlay){var overlay=$('<div class="bt-overlay"></div>').css({position:"absolute",backgroundColor:"blue",top:top,left:left,width:width,height:height,opacity:".2"}).appendTo(offsetParent);$(this).data("overlay",overlay)}if((opts.ajaxPath!==null&&opts.ajaxCache===false)||ajaxTimeout){content=false}if(opts.clickAnywhereToClose){jQuery.bt.vars.clickAnywhereStack.push(this);$(document).click(jQuery.bt.docClick)}if(opts.closeWhenOthersOpen){jQuery.bt.vars.closeWhenOpenStack.push(this)}opts.postShow.apply(this,[$box[0]])};this.btOff=function(){var box=$(this).data("bt-box");opts.preHide.apply(this,[box]);var i=this;i.btCleanup=function(){var box=$(i).data("bt-box");var contentOrig=$(i).data("bt-content-orig");var overlay=$(i).data("bt-overlay");if(typeof box=="object"){$(box).remove();$(i).removeData("bt-box")}if(typeof contentOrig=="object"){var clones=$(contentOrig.original).data("bt-clones");$(contentOrig).data("bt-clones",arrayRemove(clones,contentOrig.clone))}if(typeof overlay=="object"){$(overlay).remove();$(i).removeData("bt-overlay")}jQuery.bt.vars.clickAnywhereStack=arrayRemove(jQuery.bt.vars.clickAnywhereStack,i);jQuery.bt.vars.closeWhenOpenStack=arrayRemove(jQuery.bt.vars.closeWhenOpenStack,i);$(i).removeClass("bt-active "+opts.activeClass);opts.postHide.apply(i)};opts.hideTip.apply(this,[box,i.btCleanup])};var refresh=this.btRefresh=function(){this.btOff();this.btOn()}})};jQuery.fn.btPosition=function(){function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,true),10)||0}var left=0,top=0,results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,"marginTop");offset.left-=num(this,"marginLeft");parentOffset.top+=num(offsetParent,"borderTopWidth");parentOffset.left+=num(offsetParent,"borderLeftWidth");results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}return results};jQuery.fn.btOuterWidth=function(margin){function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,true),10)||0}return this.innerWidth()+num(this,"borderLeftWidth")+num(this,"borderRightWidth")+(margin?num(this,"marginLeft")+num(this,"marginRight"):0)};jQuery.fn.btOn=function(){return this.each(function(index){if(jQuery.isFunction(this.btOn)){this.btOn()}})};jQuery.fn.btOff=function(){return this.each(function(index){if(jQuery.isFunction(this.btOff)){this.btOff()}})};jQuery.bt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]};jQuery.bt.docClick=function(e){if(typeof(e)==="undefined"){e=window.event}if(!$(e.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&jQuery.bt.vars.clickAnywhereStack.length){$(jQuery.bt.vars.clickAnywhereStack).btOff();$(document).unbind("click",jQuery.bt.docClick)}}})(jQuery);(function(d){var f=(function(){if(!d.browser.msie){return false}var i=document.createElement("div");try{i.style.setExpression("width","0+0")}catch(h){return false}return true})();function e(h,i){return parseInt(d.css(h,i),10)||0}function b(h){h=parseInt(h,10).toString(16);return(h.length<2)?"0"+h:h}function g(j){for(;j&&j.nodeName.toLowerCase()!="html";j=j.parentNode){var h=d.css(j,"backgroundColor");if(h=="rgba(0, 0, 0, 0)"){continue}if(h.indexOf("rgb")>=0){var i=h.match(/\d+/g);return"#"+b(i[0])+b(i[1])+b(i[2])}if(h&&h!="transparent"){return h}}return"#ffffff"}function a(k,h,j){switch(k){case"round":return Math.round(j*(1-Math.cos(Math.asin(h/j))));case"cool":return Math.round(j*(1+Math.cos(Math.asin(h/j))));case"sharp":return Math.round(j*(1-Math.cos(Math.acos(h/j))));case"bite":return Math.round(j*(Math.cos(Math.asin((j-h-1)/j))));case"slide":return Math.round(j*(Math.atan2(h,j/h)));case"jut":return Math.round(j*(Math.atan2(j,(j-h-1))));case"curl":return Math.round(j*(Math.atan(h)));case"tear":return Math.round(j*(Math.cos(h)));case"wicked":return Math.round(j*(Math.tan(h)));case"long":return Math.round(j*(Math.sqrt(h)));case"sculpt":return Math.round(j*(Math.log((j-h-1),j)));case"dog":return(h&1)?(h+1):j;case"dog2":return(h&2)?(h+1):j;case"dog3":return(h&3)?(h+1):j;case"fray":return(h%2)*j;case"notch":return j;case"bevel":return h+1}}d.fn.corner=function(l){if(this.length===0){if(!d.isReady&&this.selector){var v=this.selector,q=this.context;d(function(){d(v,q).corner(l)})}return this}l=(l||"").toLowerCase();var i=/keep/.test(l),m=((l.match(/cc:(#[0-9a-f]+)/)||[])[1]),r=((l.match(/sc:(#[0-9a-f]+)/)||[])[1]),k=parseInt((l.match(/(\d+)px/)||[])[1],10)||10,u=/round|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dog/,n=((l.match(u)||["round"])[0]),p={T:0,B:1},h={TL:/top|tl/.test(l),TR:/top|tr/.test(l),BL:/bottom|bl/.test(l),BR:/bottom|br/.test(l)};if(!h.TL&&!h.TR&&!h.BL&&!h.BR){h={TL:1,TR:1,BL:1,BR:1}}var j=document.createElement("div");j.style.overflow="hidden";j.style.height="1px";j.style.backgroundColor=r||"transparent";j.style.borderStyle="solid";return this.each(function(A){var x={T:parseInt(d.css(this,"paddingTop"),10)||0,R:parseInt(d.css(this,"paddingRight"),10)||0,B:parseInt(d.css(this,"paddingBottom"),10)||0,L:parseInt(d.css(this,"paddingLeft"),10)||0},C=d.curCSS(this,"height");if(typeof(this.style.zoom)!=="undefined"){this.style.zoom=1}if(!i){this.style.border="none"}j.style.borderColor=m||g(this.parentNode);for(var y in p){var D=p[y];if((D&&(h.BL||h.BR))||(!D&&(h.TL||h.TR))){j.style.borderStyle="none "+(h[y+"R"]?"solid":"none")+" none "+(h[y+"L"]?"solid":"none");var E=document.createElement("div");d(E).addClass("jquery-corner");var o=E.style;D?this.appendChild(E):this.insertBefore(E,this.firstChild);if(D&&C!="auto"){if(d.css(this,"position")=="static"){this.style.position="relative"}o.position="absolute";o.bottom=o.left=o.padding=o.margin="0";if(f){o.setExpression("width","this.parentNode.offsetWidth")}else{o.width="100%"}}else{if(!D&&d.browser.msie){if(d.css(this,"position")=="static"){this.style.position="relative"}o.position="absolute";o.top=o.left=o.right=o.padding=o.margin="0";if(f){var F=e(this,"borderLeftWidth")+e(this,"borderRightWidth");o.setExpression("width","this.parentNode.offsetWidth - "+F+'+ "px"')}else{o.width="100%"}}else{o.margin=!D?"-"+x.T+"px -"+x.R+"px "+(x.T-k)+"px -"+x.L+"px":(x.B-k)+"px -"+x.R+"px -"+x.B+"px -"+x.L+"px"}}for(var z=0;z<k;z++){var G=Math.max(0,a(n,z,k)),B=j.cloneNode(false);B.style.borderWidth="0 "+(h[y+"R"]?G:0)+"px 0 "+(h[y+"L"]?G:0)+"px";D?E.appendChild(B):E.insertBefore(B,E.firstChild)}}}})};d.fn.uncorner=function(){d("div.jquery-corner",this).remove();return this}})(jQuery);(function(b){var a;b.fn.dropShadow=function(d){var e=b.extend({left:4,top:4,blur:2,opacity:".5",color:"black",swap:false},d);var f=b([]);this.not(".dropShadow").each(function(){a=parseInt(b(this).css("z-index"),10);var u=b(this),o=[],h=(e.blur<=0)?0:e.blur,r=(h===0)?e.opacity:e.opacity/(h*8),v=(e.swap)?a:a+1,g=(e.swap)?a+1:a,x;if(this.id){x=this.id+"_dropShadow"}else{x="ds"+(1+Math.floor(9999*Math.random()))}b.data(this,"shadowId",x);b.data(this,"shadowOptions",d);u.attr("shadowId",x).css("zIndex",v);if(u.css("position")!="absolute"){u.css({position:"relative",zoom:1})}var w=u.css("backgroundColor");if(w=="rgba(0, 0, 0, 0)"){w="transparent"}if(w!="transparent"||u.css("backgroundImage")!="none"||this.nodeName=="SELECT"||this.nodeName=="INPUT"||this.nodeName=="TEXTAREA"){o[0]=b("<div></div>").css("background",e.color)}else{o[0]=u.clone().removeAttr("id").removeAttr("name").removeAttr("shadowId").css("color",e.color)}o[0].addClass("dropShadow").css({height:u.outerHeight(),left:h,opacity:r,position:"absolute",top:h,width:u.outerWidth(),zIndex:g});var q=(8*h)+1;for(var p=1;p<q;p++){o[p]=o[0].clone()}var m=1,n=h;while(n>0){o[m].css({left:n*2,top:0});o[m+1].css({left:n*4,top:n*2});o[m+2].css({left:n*2,top:n*4});o[m+3].css({left:0,top:n*2});o[m+4].css({left:n*3,top:n});o[m+5].css({left:n*3,top:n*3});o[m+6].css({left:n,top:n*3});o[m+7].css({left:n,top:n});m+=8;n--}var l=b("<div></div>").attr("id",x).addClass("dropShadow").css({left:u.position().left+e.left-h,marginTop:u.css("marginTop"),marginRight:u.css("marginRight"),marginBottom:u.css("marginBottom"),marginLeft:u.css("marginLeft"),position:"absolute",top:u.position().top+e.top-h,zIndex:g});for(p=0;p<q;p++){l.append(o[p])}u.after(l);f=f.add(l);b(window).resize(function(){try{l.css({left:u.position().left+e.left-h,top:u.position().top+e.top-h})}catch(i){}});a+=2});return this.pushStack(f)};b.fn.redrawShadow=function(){this.removeShadow();return this.each(function(){var d=b.data(this,"shadowOptions");b(this).dropShadow(d)})};b.fn.removeShadow=function(){return this.each(function(){var d=b(this).shadowId();b("div#"+d).remove()})};b.fn.shadowId=function(){return b.data(this[0],"shadowId")};b(function(){var d="<style type='text/css' media='print'>";d+=".dropShadow{visibility:hidden;}</style>";b("head").append(d)})})(jQuery);$.extend(jQuery.fn,{count:function(a){console?console.count(this):"";return this},dir:function(a){console?console.dir(this):"";return this},log:function(a){console?console.log("%s: %o",a,this):"";return this},profile:function(a){console?console.profile(this):"";return this},time:function(b,a){if(console){if(a==true||a==false){console?(a?console.timeEnd(b):console.time(b)):""}else{console.timeEnd(b).time(a)}}return this},trace:function(a){console?console.trace(this):"";return this}});$.fn.makeFloatingDiv=function(a){$("#floatdiv").remove();var g=$(this).css("z-index"),e=$("<div></div>"),d=$("<div></div>"),b={backgroundColor:"#000",border:"none",color:"#000",position:"absolute",width:"20em",zIndex:(g<10||g=="auto")?10:(parseInt(g,10)+1)},f=function(i,h){if(typeof(i.shadowId())=="undefined"){i.dropShadow();if(h!==false){$("#"+i.shadowId()+" div").corner("round 6px").dropShadow()}}else{i.redrawShadow();$("#"+i.shadowId()+" div").redrawShadow()}};if(typeof(a.classes)!="undefined"){$.each(a.classes,function(){e.addClass(this)})}if(typeof(a.id)=="undefined"){a.id="floatdiv"}if(typeof(a.position)=="undefined"){a.position="bl"}e.attr("id",a.id);if(typeof(a.borderColor)!="undefined"){b.backgroundColor=a.borderColor}if(typeof(a.round)=="undefined"){a.round=true}if(typeof(a.shadow)=="undefined"){a.shadow=true}switch(a.position){case"bl":$.extend(b,{left:$(this).position().left+1,top:$(this).position().top+$(this).outerHeight()-1});break;case"tl":$.extend(b,{left:$(this).position().left+1,top:$(this).position().top});break;case"br":$.extend(b,{left:$(this).position().left+$(this).outerWidth(),top:$(this).position().top+$(this).outerHeight()-1});break;case"tr":$.extend(b,{left:$(this).position().left+$(this).outerWidth(),top:$(this).position().top});break}if(typeof(a.css)!="undefined"){$.extend(b,a.css)}e.css(b);if(typeof(a.after)!="undefined"){if(a.after){$(this).parent().after(e)}else{$(this).append(e)}}else{$(this).append(e)}d.css({backgroundColor:(typeof(a.background)=="undefined")?"#fff":a.background,height:"100%",margin:"1px",padding:(typeof(a.innerPad)=="undefined")?"7px":a.innerPad+"px",width:parseInt(e.width(),10)-((typeof(a.innerPad)=="undefined")?16:(a.innerPad*2)+2)});e.append(d);if(a.round!==false){e.corner("round 6px");d.corner("round 6px")}if(a.shadow!==false){f(e,a.round)}return e};(function(a){a.fn.hoverIntent=function(l,k){var m={sensitivity:7,interval:100,timeout:0};m=a.extend(m,k?{over:l,out:k}:l);var o,n,i,e;var h=function(f){o=f.pageX;n=f.pageY};var d=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if((Math.abs(i-o)+Math.abs(e-n))<m.sensitivity){a(f).unbind("mousemove",h);f.hoverIntent_s=1;return m.over.apply(f,[g])}else{i=o;e=n;f.hoverIntent_t=setTimeout(function(){d(g,f)},m.interval)}};var j=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;return m.out.apply(f,[g])};var b=function(r){var q=(r.type=="mouseover"?r.fromElement:r.toElement)||r.relatedTarget;while(q&&q!=this){try{q=q.parentNode}catch(r){q=this}}if(q==this){return false}var g=jQuery.extend({},r);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(r.type=="mouseover"){i=g.pageX;e=g.pageY;a(f).bind("mousemove",h);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){d(g,f)},m.interval)}}else{a(f).unbind("mousemove",h);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){j(g,f)},m.timeout)}}};return this.mouseover(b).mouseout(b)}})(jQuery);(function(a){a.fn.iff=function(d){var b=!d||a.isFunction(d)&&!d.apply(this,Array.prototype.slice.call(arguments,1))?[]:this;return this.pushStack(b,"iff",d)}})(jQuery);jQuery.fn.extend({if_:function(a){if(jQuery.isFunction(a)){a=a.call(this)}this.if_CondMet=!!a;return this.pushStack(a?this:[])},else_:function(a){var b=this.end();return b.if_CondMet?b.pushStack([]):b.if_(arguments.length?a:1)}});(function(b){function a(e){var d=2;b.each(e,function(f,g){if(b.isFunction(g)){d=f;return false}});return d}(function(){var d=document.compareDocumentPosition?function(k,j){return k.compareDocumentPosition(j)&16}:function(k,j){return k!==j&&(k.contains?k.contains(j):true)},f=b.fn.live,h=b.fn.die;function g(k,j){return jQuery.event.proxy(k,function(l){if(this!==l.relatedTarget&&l.relatedTarget&&!d(this,l.relatedTarget)){l.type=j;k.apply(this,arguments)}})}var e={mouseenter:"mouseover",mouseleave:"mouseout"};b.fn.live=function(l){var n=this,k=arguments,j=a(k),m=k[j];b.each(l.split(" "),function(p,q){var o=m;if(e[q]){o=g(o,q);q=e[q]}k[0]=q;k[j]=o;f.apply(n,k)});return this};b.fn.die=function(k,j){if(/mouseenter|mouseleave/.test(k)){if(k=="mouseenter"){k=k.replace(/mouseenter/g,"mouseover")}if(k=="mouseleave"){k=k.replace(/mouseleave/g,"mouseout")}}h.call(this,k,j);return this};function i(l,j,k){return jQuery.event.proxy(l,function(o){var n=this.parentNode,m=(e[o.type])?o.relatedTarget:undefined;l.apply(this,arguments);while(n&&n!==k&&n!==o.relatedTarget){if(b.multiFilter(j,[n])[0]){l.apply(n,arguments)}n=n.parentNode}})}b.fn.bubbleLive=function(){var k=arguments,j=a(k);k[j]=i(k[j],this.selector,this.context);b.fn.live.apply(this,k)};b.fn.liveHover=function(k,j){return this.live("mouseenter",k).live("mouseleave",j)}})();(function(){b.support.bubblingChange=!(b.browser.msie||b.browser.safari);if(!b.support.bubblingChange){var f=b.fn.live,g=b.fn.die,e=function(h){return b.event.proxy(h,function(l){var k=b(l.target);if((l.type!=="keydown"||l.keyCode===13)&&k.is("input, textarea, select")){var m=k.data("changeVal"),i=k.is(":checkbox, :radio"),j;if(i&&k.is(":enabled")&&l.type==="click"){j=k.is(":checked");if((l.target.type!=="radio"||j===true)&&l.type!=="change"&&m!==j){l.type="change";k.trigger(l)}}else{if(!i){j=k.val();if(m!==undefined&&m!==j){l.type="change";k.trigger(l)}}}if(j!==undefined){k.data("changeVal",j)}}})},d=function(h){return b.event.proxy(h,function(k){if(k.type==="change"){var j=b(k.target),i=(j.is(":checkbox, :radio"))?j.is(":checked"):j.val();if(i===j.data("changeVal")){return false}j.data("changeVal",i)}h.apply(this,arguments)})};b.fn.live=function(l,k){var m=this,i=arguments,h=a(i),j=i[h];if(l.indexOf("change")!=-1){b(this.context).bind("click focusin focusout keydown",e(j));j=d(j)}i[h]=j;f.apply(m,i);return this};b.fn.die=function(i,h){if(i.indexOf("change")!=-1){b(this.context).unbind("click focusin focusout keydown",h)}g.apply(this,arguments);return this}}})();(function(){b.support.focusInOut=!!(b.browser.msie);if(!b.support.focusInOut){b.each({focus:"focusin",blur:"focusout"},function(g,f){b.event.special[f]={setup:function(){if(!this.addEventListener){return false}this.addEventListener(g,b.event.special[f].handler,true)},teardown:function(){if(!this.removeEventListener){return false}this.removeEventListener(g,b.event.special[f].handler,true)},handler:function(h){arguments[0]=b.event.fix(h);arguments[0].type=f;return b.event.handle.apply(this,arguments)}}})}var e=null,d;b(document).bind("focusin",function(g){var f=g.realTarget||g.target;if(e&&e!==f){g.type="focusout";b(e).trigger(g);g.type="focusin";g.target=f}e=f}).bind("focusout",function(f){e=null})})()})(jQuery);(function(a){a.fn.lorem=function(e){a.fn.lorem.defaults={type:"paragraphs",amount:"3",ptags:true};var h=a.extend({},a.fn.lorem.defaults,e);var b=1;var d=10;var j=d-b+1;var i=h.amount;var g=new Array(10);g[1]="Nam quis nulla. Integer malesuada. In in enim a arcu imperdiet malesuada. Sed vel lectus. Donec odio urna, tempus molestie, porttitor ut, iaculis quis, sem. Phasellus rhoncus. Aenean id metus id velit ullamcorper pulvinar. Vestibulum fermentum tortor id mi. Pellentesque ipsum. Nulla non arcu lacinia neque faucibus fringilla. Nulla non lectus sed nisl molestie malesuada. Proin in tellus sit amet nibh dignissim sagittis. Vivamus luctus egestas leo. Maecenas sollicitudin. Nullam rhoncus aliquam metus. Etiam egestas wisi a erat.";g[2]="Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nullam feugiat, turpis at pulvinar vulputate, erat libero tristique tellus, nec bibendum odio risus sit amet ante. Aliquam erat volutpat. Nunc auctor. Mauris pretium quam et urna. Fusce nibh. Duis risus. Curabitur sagittis hendrerit ante. Aliquam erat volutpat. Vestibulum erat nulla, ullamcorper nec, rutrum non, nonummy ac, erat. Duis condimentum augue id magna semper rutrum. Nullam justo enim, consectetuer nec, ullamcorper ac, vestibulum in, elit. Proin pede metus, vulputate nec, fermentum fringilla, vehicula vitae, justo. Fusce consectetuer risus a nunc. Aliquam ornare wisi eu metus. Integer pellentesque quam vel velit. Duis pulvinar.";g[3]="Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi gravida libero nec velit. Morbi scelerisque luctus velit. Etiam dui sem, fermentum vitae, sagittis id, malesuada in, quam. Proin mattis lacinia justo. Vestibulum facilisis auctor urna. Aliquam in lorem sit amet leo accumsan lacinia. Integer rutrum, orci vestibulum ullamcorper ultricies, lacus quam ultricies odio, vitae placerat pede sem sit amet enim. Phasellus et lorem id felis nonummy placerat. Fusce dui leo, imperdiet in, aliquam sit amet, feugiat eu, orci. Aenean vel massa quis mauris vehicula lacinia. Quisque tincidunt scelerisque libero. Maecenas libero. Etiam dictum tincidunt diam. Donec ipsum massa, ullamcorper in, auctor et, scelerisque sed, est. Suspendisse nisl. Sed convallis magna eu sem. Cras pede libero, dapibus nec, pretium sit amet, tempor quis, urna.";g[4]="Etiam posuere quam ac quam. Maecenas aliquet accumsan leo. Nullam dapibus fermentum ipsum. Etiam quis quam. Integer lacinia. Nulla est. Nulla turpis magna, cursus sit amet, suscipit a, interdum id, felis. Integer vulputate sem a nibh rutrum consequat. Maecenas lorem. Pellentesque pretium lectus id turpis. Etiam sapien elit, consequat eget, tristique non, venenatis quis, ante. Fusce wisi. Phasellus faucibus molestie nisl. Fusce eget urna. Curabitur vitae diam non enim vestibulum interdum. Nulla quis diam. Ut tempus purus at lorem.";g[5]="In sem justo, commodo ut, suscipit at, pharetra vitae, orci. Duis sapien nunc, commodo et, interdum suscipit, sollicitudin et, dolor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam id dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos. Mauris dictum facilisis augue. Fusce tellus. Pellentesque arcu. Maecenas fermentum, sem in pharetra pellentesque, velit turpis volutpat ante, in pharetra metus odio a lectus. Sed elit dui, pellentesque a, faucibus vel, interdum nec, diam. Mauris dolor felis, sagittis at, luctus sed, aliquam non, tellus. Etiam ligula pede, sagittis quis, interdum ultricies, scelerisque eu, urna. Nullam at arcu a est sollicitudin euismod. Praesent dapibus. Duis bibendum, lectus ut viverra rhoncus, dolor nunc faucibus libero, eget facilisis enim ipsum id lacus. Nam sed tellus id magna elementum tincidunt.";g[6]="Morbi a metus. Phasellus enim erat, vestibulum vel, aliquam a, posuere eu, velit. Nullam sapien sem, ornare ac, nonummy non, lobortis a, enim. Nunc tincidunt ante vitae massa. Duis ante orci, molestie vitae, vehicula venenatis, tincidunt ac, pede. Nulla accumsan, elit sit amet varius semper, nulla mauris mollis quam, tempor suscipit diam nulla vel leo. Etiam commodo dui eget wisi. Donec iaculis gravida nulla. Donec quis nibh at felis congue commodo. Etiam bibendum elit eget erat.";g[7]="Praesent in mauris eu tortor porttitor accumsan. Mauris suscipit, ligula sit amet pharetra semper, nibh ante cursus purus, vel sagittis velit mauris vel metus. Aenean fermentum risus id tortor. Integer imperdiet lectus quis justo. Integer tempor. Vivamus ac urna vel leo pretium faucibus. Mauris elementum mauris vitae tortor. In dapibus augue non sapien. Aliquam ante. Curabitur bibendum justo non orci.";g[8]="Morbi leo mi, nonummy eget, tristique non, rhoncus non, leo. Nullam faucibus mi quis velit. Integer in sapien. Fusce tellus odio, dapibus id, fermentum quis, suscipit id, erat. Fusce aliquam vestibulum ipsum. Aliquam erat volutpat. Pellentesque sapien. Cras elementum. Nulla pulvinar eleifend sem. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque porta. Vivamus porttitor turpis ac leo.";g[9]="Maecenas ipsum velit, consectetuer eu, lobortis ut, dictum at, dui. In rutrum. Sed ac dolor sit amet purus malesuada congue. In laoreet, magna id viverra tincidunt, sem odio bibendum justo, vel imperdiet sapien wisi sed libero. Suspendisse sagittis ultrices augue. Mauris metus. Nunc dapibus tortor vel mi dapibus sollicitudin. Etiam posuere lacus quis dolor. Praesent id justo in neque elementum ultrices. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos. In convallis. Fusce suscipit libero eget elit. Praesent vitae arcu tempor neque lacinia pretium. Morbi imperdiet, mauris ac auctor dictum, nisl ligula egestas nulla, et sollicitudin sem purus in lacus.";g[10]="Aenean placerat. In vulputate urna eu arcu. Aliquam erat volutpat. Suspendisse potenti. Morbi mattis felis at nunc. Duis viverra diam non justo. In nisl. Nullam sit amet magna in magna gravida vehicula. Mauris tincidunt sem sed arcu. Nunc posuere. Nullam lectus justo, vulputate eget, mollis sed, tempor sed, magna. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Etiam neque. Curabitur ligula sapien, pulvinar a, vestibulum quis, facilisis vel, sapien. Nullam eget nisl. Donec vitae arcu.";function f(){var o="";for(var n=0;n<i;n++){rnd_number=Math.floor(Math.random()*j+b);if(e.ptags==true){o+="<p>"}o+=g[rnd_number];if(h.ptags==true){o+="</p>"}o+="\n\n"}switch(h.type){case"words":var u=h.amount;u=parseInt(u);var p=new Array();var k=new Array();k=o.split(" ");var v=0;var q=0;while(p.length<u){if(q>k.length){q=0;v++;if(v+1>g.length){v=0}k=g[v].split(" ");k[0]="\n\n"+k[0]}p.push(k[q]);q++}o=p.join(" ");break;case"characters":var l="";var r=h.amount;r=parseInt(r);var m=g.join("\n\n");while(l.length<r){l+=m}o=l.substring(0,r);break;case"paragraphs":break}return o}return this.each(function(){$this=a(this);var k=f();$this.html(k)})}})(jQuery);(function($){$.fn.markItUp=function(settings,extraSettings){var options,ctrlKey,shiftKey,altKey;ctrlKey=shiftKey=altKey=false;options={id:"",nameSpace:"",root:"",previewInWindow:"",previewAutoRefresh:true,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParserPath:"",previewParserVar:"data",resizeHandle:true,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]};$.extend(options,settings,extraSettings);if(!options.root){$("script").each(function(a,tag){var miuScript=$(tag).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/);if(miuScript!==null){options.root=miuScript[1]}})}return this.each(function(){function localize(data,inText){if(inText){return data.replace(/("|')~\//g,"$1"+options.root)}return data.replace(/^~\//,options.root)}var $$,textarea,levels,scrollPosition,caretPosition,caretOffset,clicked,hash,header,footer,previewWindow,template,iFrame,abort;$$=$(this);textarea=this;levels=[];abort=false;scrollPosition=caretPosition=0;caretOffset=-1;options.previewParserPath=localize(options.previewParserPath);options.previewTemplatePath=localize(options.previewTemplatePath);function dropMenus(markupSet){var ul=$("<ul></ul>"),i=0;$("li:hover > ul",ul).css("display","block");$.each(markupSet,function(){var button=this,t="",title,li,j,title=(button.key)?(button.name||"")+" [Ctrl+"+button.key+"]":(button.name||""),key=(button.key)?'accesskey="'+button.key+'"':"";if(button.separator){li=$('<li class="markItUpSeparator">'+(button.separator||"")+"</li>").appendTo(ul)}else{i++;for(j=levels.length-1;j>=0;j--){t+=levels[j]+"-"}li=$('<li class="markItUpButton markItUpButton'+t+(i)+" "+(button.className||"")+'"><a href="" '+key+' title="'+title+'">'+(button.name||"")+"</a></li>").bind("contextmenu",function(){return false}).click(function(){return false}).mouseup(function(){if(button.call){eval(button.call)()}markup(button);return false}).hover(function(){$("> ul",this).css("display","block");$(document).one("click",function(){$("ul ul",header).css("display","none")})},function(){$("> ul",this).css("display","none")}).appendTo(ul);if(button.dropMenu){levels.push(i);$(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu))}}});levels.pop();return ul}function init(){var id="",nameSpace="";if(options.id){id='id="'+options.id+'"'}else{if($$.attr("id")){id='id="markItUp'+($$.attr("id").substr(0,1).toUpperCase())+($$.attr("id").substr(1))+'"'}}if(options.nameSpace){nameSpace='class="'+options.nameSpace+'"'}$$.wrap("<div "+nameSpace+"></div>");$$.wrap("<div "+id+' class="markItUp"></div>');$$.wrap('<div class="markItUpContainer"></div>');$$.addClass("markItUpEditor");header=$('<div class="markItUpHeader"></div>').insertBefore($$);$(dropMenus(options.markupSet)).appendTo(header);footer=$('<div class="markItUpFooter"></div>').insertAfter($$);if(options.resizeHandle===true&&$.browser.safari!==true){resizeHandle=$('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown",function(e){var h=$$.height(),y=e.clientY,mouseMove,mouseUp;mouseMove=function(e){$$.css("height",Math.max(20,e.clientY+h-y)+"px");return false};mouseUp=function(e){$("html").unbind("mousemove",mouseMove).unbind("mouseup",mouseUp);return false};$("html").bind("mousemove",mouseMove).bind("mouseup",mouseUp)});footer.append(resizeHandle)}$$.keydown(keyPressed).keyup(keyPressed);$$.bind("insertion",function(e,settings){if(settings.target!==false){get()}if(textarea===$.markItUp.focused){markup(settings)}});$$.focus(function(){$.markItUp.focused=this})}function magicMarkups(string){if(string){string=string.toString();string=string.replace(/\(\!\(([\s\S]*?)\)\!\)/g,function(x,a){var b=a.split("|!|");if(altKey===true){return(b[1]!==undefined)?b[1]:b[0]}else{return(b[1]===undefined)?"":b[0]}});string=string.replace(/\[\!\[([\s\S]*?)\]\!\]/g,function(x,a){var b=a.split(":!:");if(abort===true){return false}value=prompt(b[0],(b[1])?b[1]:"");if(value===null){abort=true}return value});return string}return""}function prepare(action){if($.isFunction(action)){action=action(hash)}return magicMarkups(action)}function build(string){openWith=prepare(clicked.openWith);placeHolder=prepare(clicked.placeHolder);replaceWith=prepare(clicked.replaceWith);closeWith=prepare(clicked.closeWith);if(replaceWith!==""){block=openWith+replaceWith+closeWith}else{if(selection===""&&placeHolder!==""){block=openWith+placeHolder+closeWith}else{block=openWith+(string||selection)+closeWith}}return{block:block,openWith:openWith,replaceWith:replaceWith,placeHolder:placeHolder,closeWith:closeWith}}function markup(button){var len,j,n,i;hash=clicked=button;get();$.extend(hash,{line:"",root:options.root,textarea:textarea,selection:(selection||""),caretPosition:caretPosition,ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey});prepare(options.beforeInsert);prepare(clicked.beforeInsert);if(ctrlKey===true&&shiftKey===true){prepare(clicked.beforeMultiInsert)}$.extend(hash,{line:1});if(ctrlKey===true&&shiftKey===true){lines=selection.split(/\r?\n/);for(j=0,n=lines.length,i=0;i<n;i++){if($.trim(lines[i])!==""){$.extend(hash,{line:++j,selection:lines[i]});lines[i]=build(lines[i]).block}else{lines[i]=""}}string={block:lines.join("\n")};start=caretPosition;len=string.block.length+(($.browser.opera)?n:0)}else{if(ctrlKey===true){string=build(selection);start=caretPosition+string.openWith.length;len=string.block.length-string.openWith.length-string.closeWith.length;len-=fixIeBug(string.block)}else{if(shiftKey===true){string=build(selection);start=caretPosition;len=string.block.length;len-=fixIeBug(string.block)}else{string=build(selection);start=caretPosition+string.block.length;len=0;start-=fixIeBug(string.block)}}}if((selection===""&&string.replaceWith==="")){caretOffset+=fixOperaBug(string.block);start=caretPosition+string.openWith.length;len=string.block.length-string.openWith.length-string.closeWith.length;caretOffset=$$.val().substring(caretPosition,$$.val().length).length;caretOffset-=fixOperaBug($$.val().substring(0,caretPosition))}$.extend(hash,{caretPosition:caretPosition,scrollPosition:scrollPosition});if(string.block!==selection&&abort===false){insert(string.block);set(start,len)}else{caretOffset=-1}get();$.extend(hash,{line:"",selection:selection});if(ctrlKey===true&&shiftKey===true){prepare(clicked.afterMultiInsert)}prepare(clicked.afterInsert);prepare(options.afterInsert);if(previewWindow&&options.previewAutoRefresh){refreshPreview()}shiftKey=altKey=ctrlKey=abort=false}function fixOperaBug(string){if($.browser.opera){return string.length-string.replace(/\n*/g,"").length}return 0}function fixIeBug(string){if($.browser.msie){return string.length-string.replace(/\r*/g,"").length}return 0}function insert(block){if(document.selection){var newSelection=document.selection.createRange();newSelection.text=block}else{$$.val($$.val().substring(0,caretPosition)+block+$$.val().substring(caretPosition+selection.length,$$.val().length))}}function set(start,len){if(textarea.createTextRange){if($.browser.opera&&$.browser.version>=9.5&&len===0){return false}range=textarea.createTextRange();range.collapse(true);range.moveStart("character",start);range.moveEnd("character",len);range.select()}else{if(textarea.setSelectionRange){textarea.setSelectionRange(start,start+len)}}textarea.scrollTop=scrollPosition;textarea.focus()}function get(){textarea.focus();scrollPosition=textarea.scrollTop;if(document.selection){selection=document.selection.createRange().text;if($.browser.msie){var range=document.selection.createRange(),rangeCopy=range.duplicate();rangeCopy.moveToElementText(textarea);caretPosition=-1;while(rangeCopy.inRange(range)){rangeCopy.moveStart("character");caretPosition++}}else{caretPosition=textarea.selectionStart}}else{caretPosition=textarea.selectionStart;selection=$$.val().substring(caretPosition,textarea.selectionEnd)}return selection}function preview(){if(!previewWindow||previewWindow.closed){if(options.previewInWindow){previewWindow=window.open("","preview",options.previewInWindow)}else{iFrame=$('<iframe class="markItUpPreviewFrame"></iframe>');if(options.previewPosition=="after"){iFrame.insertAfter(footer)}else{iFrame.insertBefore(header)}previewWindow=iFrame[iFrame.length-1].contentWindow||frame[iFrame.length-1]}}else{if(altKey===true){if(iFrame){iFrame.remove()}previewWindow.close();previewWindow=iFrame=false}}if(!options.previewAutoRefresh){refreshPreview()}}function refreshPreview(){if(previewWindow.document){try{sp=previewWindow.document.documentElement.scrollTop}catch(e){sp=0}previewWindow.document.open();previewWindow.document.write(renderPreview());previewWindow.document.close();previewWindow.document.documentElement.scrollTop=sp}if(options.previewInWindow){previewWindow.focus()}}function renderPreview(){phtml="<html><head></head><body>"+$$.val()+"</body></html>";return phtml}function keyPressed(e){shiftKey=e.shiftKey;altKey=e.altKey;ctrlKey=(!(e.altKey&&e.ctrlKey))?e.ctrlKey:false;if(e.type==="keydown"){if(ctrlKey===true){li=$("a[accesskey="+String.fromCharCode(e.keyCode)+"]",header).parent("li");if(li.length!==0){ctrlKey=false;li.triggerHandler("mouseup");return false}}if(e.keyCode===13||e.keyCode===10){if(ctrlKey===true){ctrlKey=false;markup(options.onCtrlEnter);return options.onCtrlEnter.keepDefault}else{if(shiftKey===true){shiftKey=false;markup(options.onShiftEnter);return options.onShiftEnter.keepDefault}else{markup(options.onEnter);return options.onEnter.keepDefault}}}if(e.keyCode===9){if(shiftKey===true||ctrlKey===true||altKey===true){return false}if(caretOffset!==-1){get();caretOffset=$$.val().length-caretOffset;set(caretOffset,0);caretOffset=-1;return false}else{markup(options.onTab);return options.onTab.keepDefault}}}}init()})};$.fn.markItUpRemove=function(){return this.each(function(){$$=$(this).unbind().removeClass("markItUpEditor");$$.parent("div").parent("div.markItUp").parent("div").replaceWith($$)})};$.markItUp=function(settings){var options={target:false};$.extend(options,settings);if(options.target){return $(options.target).each(function(){$(this).focus();$(this).trigger("insertion",[options])})}else{$("textarea").trigger("insertion",[options])}}})(jQuery);$.fn.outerHTML=function(){if(this.find("script").length===0){var b=this[0]?this[0].ownerDocument:document;return $("<div>",b).append(this.eq(0).clone()).html()}else{var a=document.createElement("p");var d=this.eq(0).clone();a.appendChild(d[0]);return(s)?this.before(s).remove():a.innerHTML}};jQuery.fn.replace=function(){var a=[];return this.domManip(arguments,true,1,function(b){this.parentNode.replaceChild(b,this);a.push(b)}).pushStack(a)};(function(d){var a=d.scrollTo=function(g,f,e){d(window).scrollTo(g,f,e)},b=function(e){return typeof e=="object"?e:{top:e,left:e}};a.defaults={axis:"xy",duration:parseFloat(d.fn.jquery)>=1.3?0:1};a.window=function(e){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){var f=this,e=!f.nodeName||d.inArray(f.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!e){return f}var g=(f.contentWindow||f).document||f.ownerDocument||f;return d.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement})};d.fn.scrollTo=function(g,f,e){if(typeof f=="object"){e=f;f=0}if(typeof e=="function"){e={onAfter:"settings"}}if(g=="max"){g="9e9"}e=d.extend({},a.defaults,e);f=f||e.speed||e.duration;e.queue=e.queue&&e.axis.length>1;if(e.queue){f/=2}e.offset=b(e.offset);e.over=b(e.over);return this._scrollable().each(function(){var m=this,k=d(m),l=g,j,h={},n=k.is("html,body"),i=function(o){k.animate(h,f,e.easing,o&&function(){o.call(this,g,e)})};switch(typeof l){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(l)){l=b(l);break}l=d(l,this);case"object":if(l.is||l.style){j=(l=d(l)).offset()}}d.each(e.axis.split(""),function(r,u){var v=u=="x"?"Left":"Top",x=v.toLowerCase(),q="scroll"+v,p=m[q],o=a.max(m,u);if(j){h[q]=j[x]+(n?0:p-k.offset()[x]);if(e.margin){h[q]-=parseInt(l.css("margin"+v),10)||0;h[q]-=parseInt(l.css("border"+v+"Width"),10)||0}h[q]+=e.offset[x]||0;if(e.over[x]){h[q]+=l[u=="x"?"width":"height"]()*e.over[x]}}else{var w=l[x];h[q]=w.slice&&w.slice(-1)=="%"?parseFloat(w)/100*o:w}if(/^\d+$/.test(h[q])){h[q]=h[q]<=0?0:Math.min(h[q],o)}if(!r&&e.queue){if(p!=h[q]){i(e.onAfterFirst)}delete h[q]}});i(e.onAfter)}).end()};a.max=function(k,j){var i=j=="x"?"Width":"Height",f="scroll"+i;if(!d(k).is("html,body")){return k[f]-d(k)[i.toLowerCase()]()}var h="client"+i,g=k.ownerDocument.documentElement,e=k.ownerDocument.body;return Math.max(g[f],e[f])-Math.min(g[h],e[h])}})(jQuery);(function(a){a.fn.addOption=function(){var i=function(l,r,u,p){var n,q=true;if(!l.cache){l.cache={}}var k=l.options,j=k.length;for(var m=0;m<j;m++){if(!l.cache[k[m].value]){l.cache[k[m].value]=m}if(k[m].value==r){n=k[m];q=false}}if(typeof n=="undefined"){n=document.createElement("option");n.value=r}n.text=u;if(typeof l.cache[r]=="undefined"){l.cache[r]=j}if(q){l.options[l.cache[r]]=n}if(p){n.selected=true}};var d=arguments;if(d.length===0){return this}var h=true,b=false,f,e,g;if(typeof(d[0])=="object"){b=true;f=d[0]}if(d.length>=2){if(typeof(d[1])=="boolean"){h=d[1]}else{if(typeof(d[2])=="boolean"){h=d[2]}}if(!b){e=d[0];g=d[1]}}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return}if(b){for(var j in f){i(this,j,f[j],h)}}else{i(this,e,g,h)}});return this};a.fn.ajaxAddOption=function(e,g,b,f,d){if(typeof(e)!="string"){return this}if(typeof(g)!="object"){g={}}if(typeof(b)!="boolean"){b=true}this.each(function(){var h=this;a.getJSON(e,g,function(i){a(h).addOption(i,b);if(typeof f=="function"){if(typeof d=="object"){f.apply(h,d)}else{f.call(h)}}})});return this};a.fn.removeOption=function(){var d=arguments;if(d.length===0){return this}var f=typeof(d[0]),e,g;if(f=="string"||f=="object"||f=="function"){e=d[0];if(e.constructor==Array){var b=e.length;for(var h=0;h<b;h++){this.removeOption(e[h],d[1])}return this}}else{if(f=="number"){g=d[0]}else{return this}}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return}if(this.cache){this.cache=null}var j=false,m=this.options;if(!!e){var k=m.length;for(var l=k-1;l>=0;l--){if(e.constructor==RegExp){if(m[l].value.match(e)){j=true}}else{if(m[l].value==e){j=true}}if(j&&d[1]===true){j=m[l].selected}if(j){m[l]=null}j=false}}else{if(d[1]===true){j=m[g].selected}else{j=true}if(j){this.remove(g)}}});return this};a.fn.sortOptions=function(d){var e=a(this).selectedValues();var b=typeof(d)=="undefined"?true:!!d;this.each(function(){if(this.nodeName.toLowerCase()!="select"){return}var k=this.options,f=k.length,l=[];for(var h=0;h<f;h++){l[h]={v:k[h].value,t:k[h].text}}l.sort(function(m,j){var n=m.t.toLowerCase(),i=j.t.toLowerCase();if(n==i){return 0}if(b){return n<i?-1:1}else{return n>i?-1:1}});for(var g=0;g<f;g++){k[g].text=l[g].t;k[g].value=l[g].v}}).selectOptions(e,true);return this};a.fn.selectOptions=function(e,b){var d=e,g=typeof(e);if(g=="object"&&d.constructor==Array){var f=this;a.each(d,function(){f.selectOptions(this,b)})}var h=b||false;if(g!="string"&&g!="function"&&g!="object"){return this}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}var l=this.options,j=l.length;for(var k=0;k<j;k++){if(d.constructor==RegExp){if(l[k].value.match(d)){l[k].selected=true}else{if(h){l[k].selected=false}}}else{if(l[k].value==d){l[k].selected=true}else{if(h){l[k].selected=false}}}}});return this};a.fn.copyOptions=function(e,d){var b=d||"selected";if(a(e).size()===0){return this}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}var h=this.options,f=h.length;for(var g=0;g<f;g++){if(b=="all"||(b=="selected"&&h[g].selected)){a(e).addOption(h[g].value,h[g].text)}}});return this};a.fn.containsOption=function(f,d){var e=false,b=f,g=typeof(b),h=typeof(d);if(g!="string"&&g!="function"&&g!="object"){return h=="function"?this:e}this.each(function(){if(this.nodeName.toLowerCase()!="select"){return this}if(e&&h!="function"){return false}var l=this.options,j=l.length;for(var k=0;k<j;k++){if(b.constructor==RegExp){if(l[k].value.match(b)){e=true;if(h=="function"){d.call(l[k],k)}}}else{if(l[k].value==b){e=true;if(h=="function"){d.call(l[k],k)}}}}});return h=="function"?this:e};a.fn.selectedValues=function(){var b=[];this.selectedOptions().each(function(){b[b.length]=this.value});return b};a.fn.selectedTexts=function(){var b=[];this.selectedOptions().each(function(){b[b.length]=this.text});return b};a.fn.selectedOptions=function(){return this.find("option:selected")}})(jQuery);jQuery.fn.swap=function(f){f=jQuery(f)[0];var g=this[0],e=g.cloneNode(true),h=f.cloneNode(true),d=this;g.parentNode.replaceChild(h,g);f.parentNode.replaceChild(e,f);d[0]=e;return this.pushStack(d)};jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldY:0,build:function(a){this.each(function(){this.tableDnDConfig=jQuery.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,scrollAmount:5,serializeRegexp:/[^\-]*$/,serializeParamName:null,dragHandle:null},a||{});jQuery.tableDnD.makeDraggable(this)});jQuery(document).bind("mousemove",jQuery.tableDnD.mousemove).bind("mouseup",jQuery.tableDnD.mouseup);return this},makeDraggable:function(d){var b=d.tableDnDConfig;if(d.tableDnDConfig.dragHandle){var a=jQuery("td."+d.tableDnDConfig.dragHandle,d);a.each(function(){jQuery(this).mousedown(function(f){jQuery.tableDnD.dragObject=this.parentNode;jQuery.tableDnD.currentTable=d;jQuery.tableDnD.mouseOffset=jQuery.tableDnD.getMouseOffset(this,f);if(b.onDragStart){b.onDragStart(d,this)}return false})})}else{var e=jQuery("tr",d);e.each(function(){var f=jQuery(this);if(!f.hasClass("nodrag")){f.mousedown(function(g){if(g.target.tagName=="TD"){jQuery.tableDnD.dragObject=this;jQuery.tableDnD.currentTable=d;jQuery.tableDnD.mouseOffset=jQuery.tableDnD.getMouseOffset(this,g);if(b.onDragStart){b.onDragStart(d,this)}return false}}).css("cursor","move")}})}},updateTables:function(){this.each(function(){if(this.tableDnDConfig){jQuery.tableDnD.makeDraggable(this)}})},mouseCoords:function(a){if(a.pageX||a.pageY){return{x:a.pageX,y:a.pageY}}return{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}},getMouseOffset:function(e,d){d=d||window.event;var b=this.getPosition(e);var a=this.mouseCoords(d);return{x:a.x-b.x,y:a.y-b.y}},getPosition:function(d){var b=0;var a=0;if(d.offsetHeight===0){d=d.firstChild}while(d.offsetParent){b+=d.offsetLeft;a+=d.offsetTop;d=d.offsetParent}b+=d.offsetLeft;a+=d.offsetTop;return{x:b,y:a}},mousemove:function(h){if(jQuery.tableDnD.dragObject===null){return}var e=jQuery(jQuery.tableDnD.dragObject);var b=jQuery.tableDnD.currentTable.tableDnDConfig;var j=jQuery.tableDnD.mouseCoords(h);var g=j.y-jQuery.tableDnD.mouseOffset.y;var d=window.pageYOffset;if(document.all){if(typeof document.compatMode!="undefined"&&document.compatMode!="BackCompat"){d=document.documentElement.scrollTop}else{if(typeof document.body!="undefined"){d=document.body.scrollTop}}}if(j.y-d<b.scrollAmount){window.scrollBy(0,-b.scrollAmount)}else{var a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;if(a-(j.y-d)<b.scrollAmount){window.scrollBy(0,b.scrollAmount)}}if(g!=jQuery.tableDnD.oldY){var f=g>jQuery.tableDnD.oldY;jQuery.tableDnD.oldY=g;if(b.onDragClass){e.addClass(b.onDragClass)}else{e.css(b.onDragStyle)}var i=jQuery.tableDnD.findDropTargetRow(e,g);if(i){if(f&&jQuery.tableDnD.dragObject!=i){i.parentNode.insertBefore(jQuery.tableDnD.dragObject,i.nextSibling)}else{if(!f&&jQuery.tableDnD.dragObject!=i){i.parentNode.insertBefore(jQuery.tableDnD.dragObject,i)}}}}return false},findDropTargetRow:function(g,h){var k=jQuery.tableDnD.currentTable.rows;for(var f=0;f<k.length;f++){var j=k[f];var b=this.getPosition(j).y;var a=parseInt(j.offsetHeight,10)/2;if(j.offsetHeight===0){b=this.getPosition(j.firstChild).y;a=parseInt(j.firstChild.offsetHeight,10)/2}if((h>b-a)&&(h<(b+a))){if(j==g){return null}var d=jQuery.tableDnD.currentTable.tableDnDConfig;if(d.onAllowDrop){if(d.onAllowDrop(g,j)){return j}else{return null}}else{var e=jQuery(j).hasClass("nodrop");if(!e){return j}else{return null}}return j}}return null},mouseup:function(d){if(jQuery.tableDnD.currentTable&&jQuery.tableDnD.dragObject){var b=jQuery.tableDnD.dragObject;var a=jQuery.tableDnD.currentTable.tableDnDConfig;if(a.onDragClass){jQuery(b).removeClass(a.onDragClass)}else{jQuery(b).css(a.onDropStyle)}jQuery.tableDnD.dragObject=null;if(a.onDrop){a.onDrop(jQuery.tableDnD.currentTable,b)}jQuery.tableDnD.currentTable=null}},serialize:function(){if(jQuery.tableDnD.currentTable){return jQuery.tableDnD.serializeTable(jQuery.tableDnD.currentTable)}else{return"Error: No Table id set, you need to set an id on your table and every row"}},serializeTable:function(e){var a="";var d=e.id;var f=e.rows;for(var b=0;b<f.length;b++){if(a.length>0){a+="&"}var g=f[b].id;if(g&&g&&e.tableDnDConfig&&e.tableDnDConfig.serializeRegexp){g=g.match(e.tableDnDConfig.serializeRegexp)[0]}a+=d+"[]="+g}return a},serializeTables:function(){var a="";this.each(function(){a+=jQuery.tableDnD.serializeTable(this)});return a}};jQuery.fn.extend({tableDnD:jQuery.tableDnD.build,tableDnDUpdate:jQuery.tableDnD.updateTables,tableDnDSerialize:jQuery.tableDnD.serializeTables});function convertToMarkup(j){var e=0,a="",d=0,g=[];function h(l){switch(l){case"<p>":case"</p>":case"\n</p>":case"\n<p>":return"\n";case"<em>":return"''";case"\n<em>":return"\n''";case"\n</em>":return"\n''";case"</em>":return"''";case"<strong>":return"'''";case"\n<strong>":return"\n'''";case"\n</strong>":return"\n'''";case"</strong>":return"'''";case"\n<h1>":return"\n= ";case"</h1>":return" =";case"\n<h2>":return"\n== ";case"</h2>":return" ==";case"\n<h3>":return"\n=== ";case"</h3>":return" ===";case"\n<h4>":return"\n==== ";case"</h4>":return" ====";case"\n<h5>":return"\n===== ";case"</h5>":return" =====";case"\n<h6>":return"\n====== ";case"</h6>":return" ======";case"</a>":case"\n</a>":return"]";case"\n<hr>":return"\n----";case"<hr>":return"----\n";case"\n<ul>":case"<ul>":d++;g[d]="ul";return"";case"\n<ol>":case"<ol>":d++;g[d]="ol";return"";case"\n<br>":return"\n";case"\n</ol>":case"</ol>":case"\n</ul>":case"</ul>":d--;return"";case"\n</li>":case"</li>":return"";case"<br>":case"<code>":return"";case"</pre>":case"</code>":case"\n</code>":return"\n";case"\n<li>":case"<li>":a="";for(var k=0;k<d;k++){a=a+"    "}if(g[d]=="ol"){return"\n"+a+"a. "}else{return"\n"+a+"* "}break;case"\n<pre>":return"\n        ";default:a="";if(l.slice(0,4)=="\n<li"||l.slice(0,4)=="<li "){for(k=0;k<d;k++){a=a+"    "}return"\n"+a+l.split('"')[1]+". "}else{return l}}}function b(i){a=i.slice(1,i.length);return"\n["+a+"|"+a+"]"}function f(i){switch(i){case"</ol><ol>":case"</ol>\n<ol>":return"";case"</ul><ul>":case"</ul>\n<ul>":return"";case"</ul></li></ul>":case"</ul></li></ol>":return"</ul>";case"</ol></li></ol>":case"</ul></li></ol>":return"</ol>";default:return i}}if(j.length>0){j=j.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;");a=j.split(/<a href=\"/);j=a[0];if(a.length>1){for(e=1;e<a.length;e++){a[e]=a[e].replace(/">/,"|");j=j+"["+a[e]}}j=j.replace("<p>","").replace(/<\/strong><\/em><strong>/g,"''").replace(/<\/em><\/strong><em>/g,"'''").replace(/<\/p><.?l>/g,"\n<ol>").replace(/<\/p><ul>/g,"\n<ul>").replace(/\n */g,"\n").replace(/\n?<.*?>/g,h).replace(/ /g," ").replace(/\n\b((ftp|https?):\/\/\S*)/g,b).replace(/\n\n\n/g,"\n\n");while(j.length>0&&j.charAt(j.length-1).match(/\s/)){j=j.slice(0,j.length-1)}}return j}function convertToHTML(j){var z=0;var o=0;var p="";var n=[];var v=0;var B=false;function f(H,G,i){var F=0;while((H.length-4)%4>0){H=H.slice(1,H.length)}if(H.match(/\s{8}[^   ..|\* ..|\d\d?\. ?.]/)!==null){H="<pre><code>"+H.slice(H.length-4,H.length);return H}v=H.split("    ").length-1;var I="";if(H.split("    ")[v].slice(0,1)){if(v==o){if(p=="ol"){I="</ol><ul>"}else{if(p===""){I="<ul>"}}}else{if(v>o){I="<ul>";n[n.length]="ul>";o=v}else{if(v<o){for(F=o;F>v;F--){I=I+"</"+n.pop()}}}}I=I+"<li>"+H.slice(H.length-2);p="ul"}else{if(v==o){if(p=="ul"){I="</ul><ol>"}else{if(p===""){I="<ol>"}}}else{if(v>o){n[n.length]="ol>";I="<ol>";o=v}else{if(v<o){for(F=o;F>v;F--){I=I+"</"+n.pop()}}}}var x=H.slice(H.length-3).split(" ")[1];if(typeof(x)=="undefined"){x=""}I=I+"<li>"+x;p="ol"}return I}function w(y){function i(x){switch(x){case"\n=":case"<p>=":case"=</p>":case"=":return"h1>";case"\n==":case"<p>==":case"==</p>":case"==":return"h2>";case"\n===":case"<p>===":case"===</p>":case"===":return"h3>";case"\n====":case"<p>====":case"====</p>":case"====":return"h4>";case"\n=====":case"<p>=====":case"=====</p>":case"=====":return"h5>";case"\n======":case"<p>======":case"======</p>":case"======":return"h6>"}}var d=y.split(" ");d[0]="<"+i(d[0]);d[(d.length-1)]="</"+i(d[(d.length-1)]);y=d.join("");return y}function e(i){var d=i.slice(0,7);var F=i.slice(7,i.length-4);F=F.replace(/></g,">\n<");switch(d){case"<p><ul>":d="<ul>\n";break;case"<p><ol>":d="<ol>\n";break;case"</ol><p>":d="</ol>";break;case"</ul><p>":d="</ul>";break}d=d+F;return d}function C(d){return d+"\n"}function r(x){var i=x.slice(0,5);i=i+"\n<p>";var d=x.slice(5,x.length-6);var F=x.slice(x.length-1);if(F=="\n"){x=i+d+"</p>"+F}else{x=i+d+"<br>"+F}return x}function g(d){return"\n<p>"+d.slice(5,d.length)}function E(d){return d.slice(0,1)+"<br>\n"}function A(d){return"<hr>\n<p>"+d.slice(9,d.length-4)+"</p>"}function a(d){return"</p>"+d.slice(8,d.length)}function u(d){switch(d){case"<li>\n":return"<li>";case"<p>\n":return"<p>"}}function b(d){return d.slice(0,1)+"\n<li"}if(j.length>0){j=j.replace(/.<li/g,b);var l=j.split("\n");j="";for(z=0;z<l.length;z++){if(l[z].split(/\s{4}\s*..../).length==1){if(B===true){for(var D=n.length;D>0;D--){if(D==1){l[z]="</"+n.shift()+"\n\n"+l[z]}else{l[z]="</"+n.shift()+l[z]}}o=0}}else{l[z]=l[z].replace(/\s{4}\s*..../g,f);B=true}switch(l[z].slice(0,4)){case"<pre":l[z]="\n"+l[z]+"</code></pre>";break;case"<li>":case"<ol>":case"<ul>":case"</ol":case"</ul":case"<li ":l[z]=l[z]+"</li>";break;default:}if(z<l.length-1&&l[z].match(/^[\w|"|']/)!==null&&l[z].match(/^[\w|"|']/)!==null&&l[z].length>0&&l[z+1].length>0){j=j+l[z]+"<br>"}else{if(z<l.length-1&&l[z].match(/>$/)!==null&&l[z].match(/^</)!==null){j=j+l[z]}else{if(l[z].match(/-{4}/)!==null){j=j+"<hr>"}else{j=j+l[z]+"\n"}}}}j=j.replace(/\n\n/g,"</p>\n<p>");j=j.replace(/\n/g,"<br>");j="<p>"+j+"</p>";var m=j.split(/\[/);if(m.length>1){j=m[0];for(z=1;z<m.length;z++){if(m[z].indexOf("|")>-1){var k=m[z].split(/\|/);m[z]='<a href="'+k[0]+'">'+k[1].replace(/\]/,"</a>")}else{m[z]='<a href="'+m[z]+'">'+m[z]+"</a>"}j=j+m[z]}}var q=false;var h=false;for(z=0;z<j.length;z++){if(j.charAt(z)=="'"){if(j.charAt(z+1)=="'"){if(j.charAt(z+2)=="'"){if(q===false){j=j.slice(0,z)+"<strong><X>"+j.slice((z+3));z+=3;q=true}else{j=j.slice(0,z)+"</strong><X>"+j.slice((z+3));z+=3;q=false}}else{if(h===false){j=j.slice(0,z)+"<em><X>"+j.slice((z+2));z+=2;h=true}else{j=j.slice(0,z)+"</em><X>"+j.slice((z+2));z+=2;h=false}}}}}while(j.length>0&&j.charAt(j.length-1).match(/\s/)){j=j.slice(0,j.length-1)}j=j.replace(/<p><\/p>\n<p>/g,"<p>").replace(/<\/h\d>/g,C).replace(/.<br>/g,E).replace(/\n?<X>\n?/g,"").replace(/\n<ol>/g,"<ol>").replace(/\n<ul>/g,"<ul>").replace(/<\/p>\n?<br>/g,"</p>").replace(/<p>\n<hr>/g,"<hr>").replace(/\n<br>.*<\/p>/g,g).replace(/\n<br>/g,"<br>\n").replace(/<hr><br>\n.*<br>/g,A).replace(/<br>\n\n/g,"<br>\n").replace(/<\/p>\n<p><(o|u)l>\n<li>/g,a).replace(/<(li|p)>\n/g,u).replace(/<\/p>\n\n/g,"</p>\n").slice(0,j.length-5).replace(/\n?<p>\n?<br>\n?<pre>\n?/g,"\n<pre>").replace(/\n?<\/pre>\n?<br>\n?<\/ol>\n?(<\/li>)?\n?/g,"</pre>\n").replace(/<\/pre>\n<br>/g,"</pre>").replace(/\=<br>/g,"=\n").replace(/<p>=/g,"=").replace(/\=<\/p>/g,"=").replace(/(<p>={1,6}\s.+=\s{1,6}<\/p>)|(^={1,6}\s.+\s={1,6}$)/gm,w).replace(/<\/p><ul>/g,"</p>\n<ul>").replace(/<\/p><ol>/g,"</p>\n<ol>")}return j};